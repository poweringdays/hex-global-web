import{g as W,a as F}from"./main-V_iPaBIi.js";const H="/hex-global-web/assets/dropdown%20arrow-DkzXHHKr.png";let S=[],O=[];const v=document.getElementById("search"),y=document.getElementById("minimumValue"),L=document.getElementById("maximumValue"),p=document.getElementById("rarity"),g=document.getElementById("type"),C=document.getElementById("subtype"),_=document.getElementById("status"),V=document.getElementById("tl"),$=document.getElementById("search-button");let U=0,R=1/0,I=!1,h="",E=!1;v.addEventListener("focus",function(e){I=!0,v.placeholder="",v.value=""});v.addEventListener("blur",function(e){const s=E;E=!1,I=!1,v.placeholder="Search",k(v.value,s)});v.addEventListener("keydown",e=>{e.key==="Enter"&&(E=!0,v.blur(!0))});document.addEventListener("keydown",e=>{e.key==="/"&&!I&&(v.focus(),e.preventDefault())});$.addEventListener("mousedown",e=>{e.button===0&&(e.preventDefault(),k(v.value,!1))});function z(e){if(e==="None")return"rgb(255, 255, 255)";if(e==="Common")return"rgb(255, 255, 255)";if(e==="Rare")return"rgb(0, 255, 17)";if(e==="Ultra Rare")return"rgb(255, 247, 7)";if(e==="Legendary")return"rgb(7, 255, 234)"}function M(){if(window.innerWidth>1919&&window.innerHeight>767){document.getElementById("title").style.display="block",document.getElementById("logo").style.display="block";return}document.getElementById("title").style.display="none",document.getElementById("logo").style.display="none"}y.addEventListener("focus",()=>{I=!0,y.value=""});L.addEventListener("focus",()=>{I=!0,L.value=""});y.addEventListener("blur",()=>{const e=E;if(E=!1,I=!1,y.value!==""){const s=parseInt(y.value);s?(U=s,y.value="Min Value: "+D(s),k(h,e)):(U=0,y.value="Min Value: 0");return}y.value="Min Value: 0",U=0,k(h,e)});L.addEventListener("blur",()=>{const e=E;if(E=!1,I=!1,L.value!==""){const s=parseInt(L.value);s?(R=s,L.value="Max Value: "+D(s),k(h,e)):(R=1/0,L.value="Max Value: Infinity");return}L.value="Max value: Infinity",R=1/0,k(h,e)});y.addEventListener("keydown",e=>{e.key==="Enter"&&(E=!0,y.blur())});L.addEventListener("keydown",e=>{e.key==="Enter"&&(E=!0,L.blur())});p.addEventListener("change",()=>{k(h)});g.addEventListener("change",()=>{k(h)});C.addEventListener("change",()=>{k(h)});_.addEventListener("change",()=>{k(h)});V.addEventListener("change",()=>{k(h)});const b=document.getElementById("resultsContainer");let c=null;document.addEventListener("mousemove",e=>{c=document.elementFromPoint(e.clientX,e.clientY)});window.addEventListener("keydown",e=>{if(!I){if(parseInt(e.key)>=0&&parseInt(e.key)<=9){for(const s of b.children)if(s.dataset.position===e.key){e.preventDefault(),s.click();break}else if(e.key==="0"&&s.dataset.position==="10"){e.preventDefault(),s.click();break}}if(e.key==="Enter"){for(const s of b.children)if(s.dataset.position==="1"){if(s.dataset.positionCooldown==="true"){s.dataset.positionCooldown="false";return}e.preventDefault(),s.click();return}}if(e.key==="h"||e.key==="g"){let s=0,o=null,u=null,a=0;for(const d of b.children)d.dataset.status==="clicked"&&(s+=1,d.dataset.timeClicked>a&&(a=d.dataset.timeClicked,o=d.getElementsByClassName("resultName")[0].textContent,u=d.dataset.reskin));if(s>=0){if(c!==null&&(c.className==="result"?(o=c.getElementsByClassName("resultName")[0].textContent,u=c.dataset.reskin):(c.className==="resultName"||c.className==="resultOrigin"||c.className==="resultStatus"||c.className==="resultType"||c.className==="resultSubtype"||c.className==="resultReskin"||c.className==="resultTradeLocked"||c.className==="resultLastUpdated"||c.className==="resultWikiLink"||c.className==="resultImage")&&(o=c.parentElement.getElementsByClassName("resultName")[0].textContent,u=c.parentElement.dataset.reskin)),u){window.open("https://hexaria-full-version.fandom.com/wiki/"+m(u),"_blank");return}window.open("https://hexaria-full-version.fandom.com/wiki/"+m(o),"_blank");return}}else if(e.key==="v"||e.key==="b"||e.key==="c"||e.key==="f"){if(e.key==="c"){for(const s of b.children)if(s.dataset.status==="clicked"){if(lastReskinName){window.open("https://hexaria-full-version.fandom.com/wiki/"+m(s.dataset.reskin));return}window.open("https://hexaria-full-version.fandom.com/wiki/"+m(s.getElementsByClassName("resultName")[0].textContent),"_blank");return}}else if(e.key==="v"||e.key==="f"){let s=0,o=null,u=null,a=0;for(const d of b.children)d.dataset.status==="clicked"&&(s+=1,d.dataset.timeClicked>a&&(a=d.dataset.timeClicked,o=d.getElementsByClassName("resultName")[0].textContent,u=d.dataset.reskin));if(s>=0){if(u){window.open("https://hexaria-full-version.fandom.com/wiki/"+m(u),"_blank");return}window.open("https://hexaria-full-version.fandom.com/wiki/"+m(o),"_blank");return}}else if(e.key==="b"){let s=0,o=null,u=null;for(const a of b.children)a.dataset.status==="clicked"&&(s+=1,o=a.getElementsByClassName("resultName")[0].textContent,u=a.dataset.reskin);if(s>=1){if(u){window.open("https://hexaria-full-version.fandom.com/wiki/"+m(u),"_blank");return}window.open("https://hexaria-full-version.fandom.com/wiki/"+m(o),"_blank");return}}}}});function m(e){return e.includes("(")&&!e.includes("(Card)")&&(e=e.replace(/ \([^)]+\)/g,"").trim()),e=e.replace("#",""),e.replace(/\s+/g,"_")}function T(e,s,o,u){const a=document.createElement("div");a.dataset.position=o,o===1&&(u?a.dataset.positionCooldown="true":a.dataset.positionCooldown="false"),a.style.position="relative",a.style.borderColor=z(e.rarity),a.className="result";const d=document.createElement("div");d.className="resultName",d.textContent=e.name,a.appendChild(d);const N=document.createElement("div");N.className="resultValue",N.dataset.textContent="Value: "+D(e.mediatorValue)+" Gold ("+D(e.lowValue)+"-"+D(e.highValue)+") ("+e.valueCertainty+" Certainty)",a.appendChild(N);const x=document.createElement("div");if(x.className="resultOrigin",x.dataset.textContent="Origin: "+e.origin,a.appendChild(x),"formerOrigin"in e&&e.formerOrigin!==""){const l=document.createElement("div");l.className="resultOrigin",l.dataset.textContent="Former Origin: "+e.formerOrigin,a.appendChild(l)}const B=document.createElement("div");B.className="resultStatus",B.dataset.textContent="Status: "+e.status,a.appendChild(B);const f=document.createElement("div");f.className="resultType",f.dataset.textContent="Type: "+e.type,a.appendChild(f);const A=document.createElement("div");if(A.className="resultSubtype",A.dataset.textContent="Subtype: "+e.subtype,a.appendChild(A),"reskin"in e&&e.reskin!==""){const l=document.createElement("div");l.className="resultReskin",l.dataset.textContent="Reskin: "+e.reskin,a.appendChild(l),a.dataset.reskin=e.reskin}if("variant"in e&&e.variant!==""){const l=document.createElement("div");l.className="resultVariant",l.dataset.textContent="Variant: "+e.variant,a.appendChild(l),a.dataset.variant=e.variant}const t=document.createElement("div");t.className="resultTradeLocked",t.dataset.textContent="Trade Locked: "+e.tradeLocked,e.tradeLocked===!0&&(t.style.color="red"),a.appendChild(t);const i=document.createElement("div");i.className="resultLastUpdated",i.dataset.textContent="Last Edited: "+e.dateUpdated,a.appendChild(i);const n=document.createElement("a");n.style.color="rgba(11, 225, 245, 1)",n.className="resultWikiLink";let r="https://hexaria-full-version.fandom.com/wiki/"+m(e.name);a.dataset.reskin&&(r="https://hexaria-full-version.fandom.com/wiki/"+m(a.dataset.reskin)),a.dataset.variant&&(r="https://hexaria-full-version.fandom.com/wiki/"+m(a.dataset.variant)),n.dataset.textContent="Wiki Link: "+r,n.href="",n.addEventListener("click",l=>{l.preventDefault(),window.open(r,"_blank")}),a.appendChild(n);const w=document.createElement("img");return w.className="resultImage",w.src=H,w.style.height="20px",w.style.width="30px",w.style.color="rgb(255, 255, 255)",w.style.position="absolute",w.style.right="15px",w.style.top="15px",a.appendChild(w),a.style.paddingBottom="45px",a.dataset.status="unclicked",(s||o===1)&&(a.dataset.status="clicked",a.dataset.timeClicked=Date.now(),o===1&&(a.dataset.timeClicked=Date.now()+1e3),a.style.paddingBottom="",w.style.transform="rotate(180deg)",Array.from(a.children).forEach(l=>{l.dataset.textContent&&(l.textContent=l.dataset.textContent)})),a.addEventListener("click",()=>{a.dataset.status==="unclicked"?(a.dataset.status="clicked",a.dataset.timeClicked=Date.now(),a.style.paddingBottom="",w.style.transform="rotate(180deg)",Array.from(a.children).forEach(l=>{l.dataset.textContent&&(l.textContent=l.dataset.textContent)})):(a.dataset.status="unclicked",a.style.paddingBottom="45px",w.style.transform="rotate(0deg)",Array.from(a.children).forEach(l=>{l.dataset.textContent&&(l.textContent="")}))}),a}function k(e,s){s||(s=!1),h=e;const o=[],u=[],a=[],d=[],N=[],x=[],B=[];O.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())){if(U>t.mediatorValue||R<t.mediatorValue||!t.rarity.toLowerCase().includes(p.value.toLowerCase())&&p.value!=="All"&&!p.value.toLowerCase().includes(t.rarity.toLowerCase())&&p.value!=="All"||!t.type.toLowerCase().includes(g.value.toLowerCase())&&g.value!=="All"&&!g.value.toLowerCase().includes(t.type.toLowerCase())&&g.value!=="All"||!t.subtype.toLowerCase().includes(C.value.toLowerCase())&&C.value!=="All"&&!C.value.toLowerCase().includes(t.subtype.toLowerCase())&&C.value!=="All")return;if(C.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(C.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(p.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(p.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(_.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(_.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(V.value!=="All"&&V.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){N.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){x.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){B.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){a.push(t);return}o.push(t)}}),S.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())||t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())){if(U>t.mediatorValue||R<t.mediatorValue||!t.rarity.toLowerCase().includes(p.value.toLowerCase())&&p.value!=="All"&&!p.value.toLowerCase().includes(t.rarity.toLowerCase())&&p.value!=="All"||!t.type.toLowerCase().includes(g.value.toLowerCase())&&g.value!=="All"&&!g.value.toLowerCase().includes(t.type.toLowerCase())&&g.value!=="All"||!t.subtype.toLowerCase().includes(C.value.toLowerCase())&&C.value!=="All"&&!C.value.toLowerCase().includes(t.subtype.toLowerCase())&&C.value!=="All")return;if(C.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(C.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(p.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(p.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(_.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(_.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(V.value!=="All"&&V.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){N.push(t);return}if(t.reskinAbbreviations.toLowerCase()===e.toLowerCase()||t.reskin.toLowerCase()===e.toLowerCase()){d.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){x.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){B.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){a.push(t);return}if(t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())){u.push(t);return}o.push(t)}}),b.innerHTML="",o.sort((t,i)=>{let n=t.name[0].toUpperCase(),r=i.name[0].toUpperCase();return n<r?-1:n>r?1:0}),a.sort((t,i)=>{let n=t.name[0].toUpperCase(),r=i.name[0].toUpperCase();return n<r?-1:n>r?1:0}),N.sort((t,i)=>{let n=t.name[0].toUpperCase(),r=i.name[0].toUpperCase();return n<r?-1:n>r?1:0}),d.sort((t,i)=>{let n=t.name[0].toUpperCase(),r=i.name[0].toUpperCase();return n<r?-1:n>r?1:0}),u.sort((t,i)=>{let n=t.name[0].toUpperCase(),r=i.name[0].toUpperCase();return n<r?-1:n>r?1:0}),x.sort((t,i)=>{let n=t.name[0].toUpperCase(),r=i.name[0].toUpperCase();return n<r?-1:n>r?1:0}),B.sort((t,i)=>{let n=t.name[0].toUpperCase(),r=i.name[0].toUpperCase();return n<r?-1:n>r?1:0});const f=[];f.push(...N),f.push(...d),f.push(...x),f.push(...B),f.push(...a),f.push(...u),f.push(...o);let A=0;if(f.length<=3&&f.length>0){f.forEach(t=>{A+=1;const i=T(t,!0,A,s);b.appendChild(i)});return}f.forEach(t=>{A+=1;const i=T(t,!1,A,s);b.appendChild(i)})}window.addEventListener("resize",()=>{M()});async function G(){for(;S.length===0||O.length===0;){await new Promise(o=>setTimeout(o,500));const[e,s]=await Promise.all([W(),F()]);S=e,O=s}}window.addEventListener("DOMContentLoaded",()=>{G(),M()});function D(e){return e>=1e12?(e/1e12).toFixed(1).replace(/\.0$/,"")+"T":e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString()}
