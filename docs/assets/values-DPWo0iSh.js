import{g as O,a as S}from"./main-V_iPaBIi.js";const M="/hex-global-web/assets/dropdown%20arrow-DkzXHHKr.png";let _=[],N=[];const w=document.getElementById("search"),p=document.getElementById("minimumValue"),C=document.getElementById("maximumValue"),u=document.getElementById("rarity"),y=document.getElementById("type"),d=document.getElementById("subtype"),B=document.getElementById("status"),A=document.getElementById("tl"),T=document.getElementById("search-button");let I=0,U=1/0,E=!1,L="";w.addEventListener("focus",function(e){E=!0,w.placeholder="",w.value=""});w.addEventListener("blur",function(e){E=!1,w.placeholder="Search",f(w.value)});w.addEventListener("keydown",e=>{e.key==="Enter"&&w.blur()});document.addEventListener("keydown",e=>{e.key==="/"&&!E&&(w.focus(),e.preventDefault())});T.addEventListener("mousedown",e=>{e.button===0&&(e.preventDefault(),f(w.value))});function W(e){if(e==="None")return"rgb(255, 255, 255)";if(e==="Common")return"rgb(255, 255, 255)";if(e==="Rare")return"rgb(0, 255, 17)";if(e==="Ultra Rare")return"rgb(255, 247, 7)";if(e==="Legendary")return"rgb(7, 255, 234)"}function R(){if(window.innerWidth>1919&&window.innerHeight>767){document.getElementById("title").style.display="block",document.getElementById("logo").style.display="block";return}document.getElementById("title").style.display="none",document.getElementById("logo").style.display="none"}p.addEventListener("focus",()=>{E=!0,p.value=""});C.addEventListener("focus",()=>{E=!0,C.value=""});p.addEventListener("blur",()=>{if(E=!1,p.value!==""){const e=parseInt(p.value);e?(I=e,p.value="Min Value: "+x(e),f(L)):(I=0,p.value="Min Value: 0");return}p.value="Min Value: 0",I=0,f(L)});C.addEventListener("blur",()=>{if(E=!1,C.value!==""){const e=parseInt(C.value);e?(U=e,C.value="Max Value: "+x(e),f(L)):(U=1/0,C.value="Max Value: Infinity");return}C.value="Max value: Infinity",U=1/0,f(L)});p.addEventListener("keydown",e=>{e.key==="Enter"&&p.blur()});C.addEventListener("keydown",e=>{e.key==="Enter"&&C.blur()});u.addEventListener("change",()=>{f(L)});y.addEventListener("change",()=>{f(L)});d.addEventListener("change",()=>{f(L)});B.addEventListener("change",()=>{f(L)});A.addEventListener("change",()=>{f(L)});const V=document.getElementById("resultsContainer");window.addEventListener("keydown",e=>{if(!E){if(parseInt(e.key)>=0&&parseInt(e.key)<=9){for(const l of V.children)if(l.dataset.position===e.key){e.preventDefault(),l.click();break}else if(e.key==="0"&&l.dataset.position==="10"){e.preventDefault(),l.click();break}}if(e.key==="Enter"){for(const l of V.children)if(l.dataset.position==="1"){if(l.dataset.positionCooldown==="true"){l.dataset.positionCooldown="false";return}e.preventDefault(),l.click();return}}}});function F(e){return e.includes("(")&&!e.includes("(Card)")&&(e=e.replace(/ \([^)]+\)/g,"").trim()),e=e.replace("#",""),e.replace(/\s+/g,"_")}function D(e,l,v){const r=document.createElement("div");r.dataset.position=v,v===1&&(r.dataset.positionCooldown="true"),r.style.position="relative",r.style.borderColor=W(e.rarity),r.className="result";const m=document.createElement("div");m.className="resultName",m.textContent=e.name,r.appendChild(m);const h=document.createElement("div");h.className="resultValue",h.dataset.textContent="Value: "+x(e.mediatorValue)+" Gold ("+x(e.lowValue)+"-"+x(e.highValue)+") ("+e.valueCertainty+" Certainty)",r.appendChild(h);const b=document.createElement("div");if(b.className="resultOrigin",b.dataset.textContent="Origin: "+e.origin,r.appendChild(b),"formerOrigin"in e&&e.formerOrigin!==""){const o=document.createElement("div");o.className="resultOrigin",o.dataset.textContent="Former Origin: "+e.formerOrigin,r.appendChild(o)}const g=document.createElement("div");g.className="resultStatus",g.dataset.textContent="Status: "+e.status,r.appendChild(g);const i=document.createElement("div");i.className="resultType",i.dataset.textContent="Type: "+e.type,r.appendChild(i);const k=document.createElement("div");if(k.className="resultSubtype",k.dataset.textContent="Subtype: "+e.subtype,r.appendChild(k),"reskin"in e&&e.reskin!==""){const o=document.createElement("div");o.className="resultReskin",o.dataset.textContent="Reskin: "+e.reskin,r.appendChild(o)}const t=document.createElement("div");t.className="resultTradeLocked",t.dataset.textContent="Trade Locked: "+e.tradeLocked,e.tradeLocked===!0&&(t.style.color="red"),r.appendChild(t);const s=document.createElement("div");s.className="resultLastUpdated",s.dataset.textContent="Last Edited: "+e.dateUpdated,r.appendChild(s);const a=document.createElement("a");a.style.color="rgba(11, 225, 245, 1)",a.className="resultWikiLink";const n="https://hexaria-full-version.fandom.com/wiki/"+F(e.name);a.dataset.textContent="Wiki Link: "+n,a.href="",a.addEventListener("click",o=>{o.preventDefault(),window.open(n,"_blank")}),r.appendChild(a);const c=document.createElement("img");return c.className="resultImage",c.src=M,c.style.height="20px",c.style.width="30px",c.style.color="rgb(255, 255, 255)",c.style.position="absolute",c.style.right="15px",c.style.top="15px",r.appendChild(c),r.style.paddingBottom="45px",r.dataset.status="unclicked",(l||v===1)&&(r.dataset.status="clicked",r.style.paddingBottom="",c.style.transform="rotate(180deg)",Array.from(r.children).forEach(o=>{o.dataset.textContent&&(o.textContent=o.dataset.textContent)})),r.addEventListener("click",()=>{r.dataset.status==="unclicked"?(r.dataset.status="clicked",r.style.paddingBottom="",c.style.transform="rotate(180deg)",Array.from(r.children).forEach(o=>{o.dataset.textContent&&(o.textContent=o.dataset.textContent)})):(r.dataset.status="unclicked",r.style.paddingBottom="45px",c.style.transform="rotate(0deg)",Array.from(r.children).forEach(o=>{o.dataset.textContent&&(o.textContent="")}))}),r}function f(e){L=e;const l=[],v=[],r=[],m=[],h=[],b=[],g=[];N.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())){if(I>t.mediatorValue||U<t.mediatorValue||!t.rarity.toLowerCase().includes(u.value.toLowerCase())&&u.value!=="All"&&!u.value.toLowerCase().includes(t.rarity.toLowerCase())&&u.value!=="All"||!t.type.toLowerCase().includes(y.value.toLowerCase())&&y.value!=="All"&&!y.value.toLowerCase().includes(t.type.toLowerCase())&&y.value!=="All"||!t.subtype.toLowerCase().includes(d.value.toLowerCase())&&d.value!=="All"&&!d.value.toLowerCase().includes(t.subtype.toLowerCase())&&d.value!=="All")return;if(d.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(d.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(u.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(u.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(B.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(B.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(A.value!=="All"&&A.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){h.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){b.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){g.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){r.push(t);return}l.push(t)}}),_.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())||t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())){if(I>t.mediatorValue||U<t.mediatorValue||!t.rarity.toLowerCase().includes(u.value.toLowerCase())&&u.value!=="All"&&!u.value.toLowerCase().includes(t.rarity.toLowerCase())&&u.value!=="All"||!t.type.toLowerCase().includes(y.value.toLowerCase())&&y.value!=="All"&&!y.value.toLowerCase().includes(t.type.toLowerCase())&&y.value!=="All"||!t.subtype.toLowerCase().includes(d.value.toLowerCase())&&d.value!=="All"&&!d.value.toLowerCase().includes(t.subtype.toLowerCase())&&d.value!=="All")return;if(d.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(d.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(u.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(u.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(B.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(B.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(A.value!=="All"&&A.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){h.push(t);return}if(t.reskinAbbreviations.toLowerCase()===e.toLowerCase()||t.reskin.toLowerCase()===e.toLowerCase()){m.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){b.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){g.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){r.push(t);return}if(t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())){v.push(t);return}l.push(t)}}),V.innerHTML="",l.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),r.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),h.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),m.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),v.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),b.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),g.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0});const i=[];i.push(...h),i.push(...m),i.push(...b),i.push(...g),i.push(...r),i.push(...v),i.push(...l);let k=0;if(i.length<=3&&i.length>0){i.forEach(t=>{k+=1;const s=D(t,!0,k);V.appendChild(s)});return}i.forEach(t=>{k+=1;const s=D(t,!1,k);V.appendChild(s)})}window.addEventListener("resize",()=>{R()});async function H(){for(;_.length===0||N.length===0;){await new Promise(v=>setTimeout(v,500));const[e,l]=await Promise.all([O(),S()]);_=e,N=l}}window.addEventListener("DOMContentLoaded",()=>{H(),R()});function x(e){return e>=1e12?(e/1e12).toFixed(1).replace(/\.0$/,"")+"T":e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString()}
