import{g as Ce,a as ve}from"./main-V_iPaBIi.js";let ne=[],oe=[],L="",H=0,te=0,ae=0,Z=0,w="",S=0,re=0,le=0,ee=0,V="",M=0,O=0,N=0,ce=0,j="",D=0,U=0,F=0,pe=0,q="",z=0,W=0,A=0,ge=0,J="",X=0,Y=0,P=0,fe=0,Q="";function T(){H>S?(w.style.color="rgb(0, 255, 0)",V.style.color="red",w.style.top="7%",V.style.top="9%"):H<S?(w.style.color="red",V.style.color="rgb(0, 255, 0)",w.style.top="9%",V.style.top="7%"):(w.style.color="white",V.style.color="white",w.style.top="",V.style.top=""),w.textContent=`Total Value: ${r(H)} Gold (${r(ae)}-${r(te)})`,V.textContent=`Total Value: ${r(S)} Gold (${r(le)}-${r(re)})`}function se(e,t){H+=e.mediatorValue*t,ae+=e.lowValue*t,te+=e.highValue*t,T()}function de(e,t){S+=e.mediatorValue*t,le+=e.lowValue*t,re+=e.highValue*t,T()}function Le(e,t){H-=e.mediatorValue*t,ae-=e.lowValue*t,te-=e.highValue*t,T()}function be(e,t){S-=e.mediatorValue*t,le-=e.lowValue*t,re-=e.highValue*t,T()}function B(){const e=Array.from(document.getElementsByClassName("tooltip"));for(const t of e)t.dataset.tooltipstatus==="loose"&&t.remove()}function ue(e,t,a,d,u){const s=document.createElement("div");return s.dataset.tooltipstatus="loose",s.id=a+"-tooltip",s.className="tooltip","formerOrigin"in e&&e.formerOrigin!==""?"reskin"in e&&e.reskin!==""?s.innerHTML="Total Value: "+r(e.mediatorValue*d)+" Gold ("+r(e.lowValue*d)+"-"+r(e.highValue*d)+")<br>Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:s.innerHTML="Total Value: "+r(e.mediatorValue*d)+" Gold ("+r(e.lowValue*d)+"-"+r(e.highValue*d)+")<br>Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"reskin"in e&&e.reskin!==""?s.innerHTML="Total Value: "+r(e.mediatorValue*d)+" Gold ("+r(e.lowValue*d)+"-"+r(e.highValue*d)+")<br>Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:s.innerHTML="Total Value: "+r(e.mediatorValue*d)+" Gold ("+r(e.lowValue*d)+"-"+r(e.highValue*d)+")<br>Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated,s.style.border="1px solid rgb(255, 255, 255)",s.style.borderRadius="3px",document.body.appendChild(s),u?(t.addEventListener("mouseenter",()=>{s.style.display="block"}),t.addEventListener("mousemove",n=>{s.style.left=n.pageX-10-s.offsetWidth+"px",s.style.top=n.pageY+10+"px"}),t.addEventListener("mouseleave",()=>{s.style.display="none"})):(t.addEventListener("mouseenter",()=>{s.style.display="block"}),t.addEventListener("mousemove",n=>{s.style.left=n.pageX+10+"px",s.style.top=n.pageY+10+"px"}),t.addEventListener("mouseleave",()=>{s.style.display="none"})),s}function ie(e,t,a){const d=document.createElement("div");return d.dataset.tooltipstatus="loose",d.className="tooltip","formerOrigin"in e&&e.formerOrigin!==""?"reskin"in e&&e.reskin!==""?d.innerHTML="Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:d.innerHTML="Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"reskin"in e&&e.reskin!==""?d.innerHTML="Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:d.innerHTML="Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated,d.style.border="1px solid rgb(255, 255, 255)",d.style.borderRadius="3px",document.body.appendChild(d),t.addEventListener("mouseenter",()=>{d.style.display="block"}),t.addEventListener("mousemove",u=>{d.style.left=u.pageX+10+"px",d.style.top=u.pageY+10+"px"}),t.addEventListener("mouseleave",()=>{d.style.display="none"}),d}function ye(e,t){"formerOrigin"in e&&e.formerOrigin!==""?"reskin"in e&&e.reskin!==""?t.innerHTML="Total Value: "+r(e.mediatorValue*e.amount)+" Gold ("+r(e.lowValue*e.amount)+"-"+r(e.highValue*e.amount)+")<br>Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:t.innerHTML="Total Value: "+r(e.mediatorValue*e.amount)+" Gold ("+r(e.lowValue*e.amount)+"-"+r(e.highValue*e.amount)+")<br>Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"reskin"in e&&e.reskin!==""?t.innerHTML="Total Value: "+r(e.mediatorValue*e.amount)+" Gold ("+r(e.lowValue*e.amount)+"-"+r(e.highValue*e.amount)+")<br>Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:t.innerHTML="Total Value: "+r(e.mediatorValue*e.amount)+" Gold ("+r(e.lowValue*e.amount)+"-"+r(e.highValue*e.amount)+")<br>Value: "+r(e.mediatorValue)+" Gold ("+r(e.lowValue)+"-"+r(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated}const o=document.getElementById("item-grid");o.style.display="none";window.addEventListener("keydown",e=>{if(o.checkVisibility()&&parseInt(e.key)>=0&&parseInt(e.key)<=9){for(const t of o.children)if(t.dataset.position===e.key){e.preventDefault(),t.click();break}else if(e.key==="0"&&t.dataset.position==="10"){e.preventDefault(),t.click();break}}});const g=document.getElementById("left-item-search");g.addEventListener("keydown",e=>{if(e.key==="Enter"){o.innerHTML="",g.style.display="none";const t=getComputedStyle(o).display;o.style.display=t==="grid"?"none":"grid";let a=0,d="";const u=[],s=[],n=[],y=[],E=[],b=[],C=[],v=[];oe.forEach(l=>{if(l.name.toLowerCase().includes(g.value.toLowerCase())||l.abbreviations.toLowerCase().includes(g.value.toLowerCase())){if(l.name.toLowerCase()===g.value.toLowerCase()||l.abbreviations.toLowerCase()===g.value.toLowerCase()){b.push(l);return}if(l.name.toLowerCase().startsWith(g.value.toLowerCase())){C.push(l);return}if(l.name.toLowerCase().includes((" "+g.value).toLowerCase())){v.push(l);return}if(l.abbreviations.toLowerCase().includes(g.value.toLowerCase())){y.push(l);return}s.push(l)}}),u.push(...b),u.push(...E),u.push(...C),u.push(...v),u.push(...y),u.push(...n),u.push(...s),u.forEach(l=>{if(l.name.toLowerCase().includes(g.value.toLowerCase())||l.abbreviations.toLowerCase().includes(g.value.toLowerCase())){a+=1,d=l;const i=document.createElement("button");i.className="cardDisplay-item-left",i.style.color=G(l.rarity),i.style.borderColor=x(l.rarity),i.textContent=l.name,i.dataset.position=a,o.appendChild(i),ie(l,i),i.addEventListener("click",()=>{B(),g.style.display="none",L=l,k.style.display="flex",k.value="",k.focus(),o.style.display="none",o.innerHTML="",g.value=""})}}),g.value="",a===0?o.style.display="none":a===1&&(g.style.display="none",L=d,k.style.display="flex",k.value="",k.focus(),o.style.display="none",o.innerHTML="",g.value="")}});const k=document.getElementById("left-item-amount");k.addEventListener("keydown",function(e){if(e.key==="Enter"){const t=parseInt(k.value);if(isNaN(t)||t<=0)return;k.style.display="none";const a=L,d="left-item-"+a.name;let u=!1;if(document.getElementById(d)&&(u=!0),u){o.style.display="none",o.innerHTML="",document.getElementById("left-item-frame");const s=document.getElementById(d);s.textContent=a.name+" x"+(t+parseInt(s.dataset.amount)).toString(),s.dataset.amount=t+parseInt(s.dataset.amount),N+=a.mediatorValue*t,M+=a.lowValue*t,O+=a.highValue*t,se(a,t),j.textContent=`Value: ${r(N)} Gold (${r(M)}-${r(O)})`;let n=document.getElementById(d+"-tooltip");a.amount=parseInt(s.dataset.amount),ye(a,n),h()}else{ce+=1,o.style.display="none",o.innerHTML="";const s=document.getElementById("left-item-frame"),n=document.createElement("button"),y=ue(a,n,d,t);y.dataset.tooltipstatus="used",n.id=d,n.className="cardDisplay-item-left",n.style.color=G(a.rarity),n.style.borderColor=x(a.rarity),n.textContent=a.name+" x"+t,n.dataset.info=a,n.dataset.amount=t,s.appendChild(n),N+=a.mediatorValue*t,M+=a.lowValue*t,O+=a.highValue*t,j.textContent=`Value: ${r(N)} Gold (${r(M)}-${r(O)})`,se(a,t),h(),n.addEventListener("click",()=>{ce-=n.dataset.amount,N-=a.mediatorValue*n.dataset.amount,M-=a.lowValue*n.dataset.amount,O-=a.highValue*n.dataset.amount,Le(a,n.dataset.amount),j.textContent=`Value: ${r(N)} Gold (${r(M)}-${r(O)})`,h(),n.remove(),y.remove()})}}});const f=document.getElementById("right-item-search"),m=document.getElementById("right-item-amount");f.addEventListener("keydown",e=>{if(e.key==="Enter"){o.innerHTML="",f.style.display="none";const t=getComputedStyle(o).display;o.style.display=t==="grid"?"none":"grid";let a=0,d="";const u=[],s=[],n=[],y=[],E=[],b=[],C=[],v=[];oe.forEach(l=>{if(l.name.toLowerCase().includes(f.value.toLowerCase())||l.abbreviations.toLowerCase().includes(f.value.toLowerCase())){if(l.name.toLowerCase()===f.value.toLowerCase()||l.abbreviations.toLowerCase()===f.value.toLowerCase()){b.push(l);return}if(l.name.toLowerCase().startsWith(f.value.toLowerCase())){C.push(l);return}if(l.name.toLowerCase().includes((" "+f.value).toLowerCase())){v.push(l);return}if(l.abbreviations.toLowerCase().includes(f.value.toLowerCase())){y.push(l);return}s.push(l)}}),u.push(...b),u.push(...E),u.push(...C),u.push(...v),u.push(...y),u.push(...n),u.push(...s),u.forEach(l=>{if(l.name.toLowerCase().includes(f.value.toLowerCase())||l.abbreviations.toLowerCase().includes(f.value.toLowerCase())){a+=1,d=l;const i=document.createElement("button");i.className="cardDisplay-item-right",i.style.color=G(l.rarity),i.style.borderColor=x(l.rarity),i.textContent=l.name,i.dataset.position=a,o.appendChild(i),ie(l,i),i.addEventListener("click",()=>{B(),f.style.display="none",L=l,m.style.display="flex",m.value="",m.focus(),o.style.display="none",o.innerHTML="",f.value=""})}}),f.value="",a===0?o.style.display="none":a===1&&(f.style.display="none",L=d,m.style.display="flex",m.value="",m.focus(),o.style.display="none",o.innerHTML="",f.value="")}});m.addEventListener("keydown",function(e){if(e.key==="Enter"){const t=parseInt(m.value);if(isNaN(t)||t<=0)return;m.style.display="none";const a=L,d="right-item-"+a.name;let u=!1;if(document.getElementById(d)&&(u=!0),u){o.style.display="none",o.innerHTML="",document.getElementById("right-item-frame");const s=document.getElementById(d);s.textContent=a.name+" x"+(t+parseInt(s.dataset.amount)).toString(),s.dataset.amount=t+parseInt(s.dataset.amount),F+=a.mediatorValue*t,D+=a.lowValue*t,U+=a.highValue*t,de(a,t),q.textContent=`Value: ${r(F)} Gold (${r(D)}-${r(U)})`;let n=document.getElementById(d+"-tooltip");a.amount=parseInt(s.dataset.amount),ye(a,n),h()}else{pe+=1,o.style.display="none",o.innerHTML="";const s=document.getElementById("right-item-frame"),n=document.createElement("button"),y=ue(a,n,d,t,!0);y.dataset.tooltipstatus="used",n.id=d,n.className="cardDisplay-item-right",n.style.color=G(a.rarity),n.style.borderColor=x(a.rarity),n.textContent=a.name+" x"+t,n.dataset.info=a,n.dataset.amount=t,s.appendChild(n),F+=a.mediatorValue*t,D+=a.lowValue*t,U+=a.highValue*t,de(a,t),q.textContent=`Value: ${r(F)} Gold (${r(D)}-${r(U)})`,h(),n.addEventListener("click",()=>{pe-=n.dataset.amount,F-=a.mediatorValue*n.dataset.amount,D-=a.lowValue*n.dataset.amount,U-=a.highValue*n.dataset.amount,be(a,n.dataset.amount),q.textContent=`Value: ${r(F)} Gold (${r(D)}-${r(U)})`,h(),n.remove(),y.remove()})}}});const c=document.getElementById("left-card-search"),I=document.getElementById("left-card-amount");c.addEventListener("keydown",e=>{if(e.key==="Enter"){o.innerHTML="",c.style.display="none";const t=getComputedStyle(o).display;o.style.display=t==="grid"?"none":"grid";let a=0,d="";const u=[],s=[],n=[],y=[],E=[],b=[],C=[],v=[];ne.forEach(l=>{if(l.name.toLowerCase().includes(c.value.toLowerCase())||l.abbreviations.toLowerCase().includes(c.value.toLowerCase())){if(l.name.toLowerCase()===c.value.toLowerCase()||l.abbreviations.toLowerCase()===c.value.toLowerCase()){b.push(l);return}if(l.reskinAbbreviations.toLowerCase()===c.value.toLowerCase()||l.reskin.toLowerCase()===c.value.toLowerCase()){E.push(l);return}if(l.name.toLowerCase().startsWith(c.value.toLowerCase())){C.push(l);return}if(l.name.toLowerCase().includes((" "+c.value).toLowerCase())){v.push(l);return}if(l.abbreviations.toLowerCase().includes(c.value.toLowerCase())){y.push(l);return}if(l.reskinAbbreviations.toLowerCase().includes(c.value.toLowerCase())||l.reskin.toLowerCase().includes(c.value.toLowerCase())){n.push(l);return}s.push(l)}}),u.push(...b),u.push(...E),u.push(...C),u.push(...v),u.push(...y),u.push(...n),u.push(...s),u.forEach(l=>{if(l.name.toLowerCase().includes(c.value.toLowerCase())||l.abbreviations.toLowerCase().includes(c.value.toLowerCase())||l.reskin.toLowerCase().includes(c.value.toLowerCase())||l.reskinAbbreviations.toLowerCase().includes(c.value.toLowerCase())){a+=1,d=l;const i=document.createElement("button");i.className="cardDisplay-item-left",i.style.color=G(l.rarity),i.style.borderColor=x(l.rarity),i.textContent=l.name,i.dataset.position=a,o.appendChild(i),ie(l,i),i.addEventListener("click",()=>{B(),c.style.display="none",L=l,I.style.display="flex",I.value="",I.focus(),o.style.display="none",o.innerHTML="",c.value=""})}}),c.value="",a===0?o.style.display="none":a===1&&(c.style.display="none",L=d,I.style.display="flex",I.value="",I.focus(),o.style.display="none",o.innerHTML="",c.value="")}});I.addEventListener("keydown",function(e){if(e.key==="Enter"){const t=parseInt(I.value);if(isNaN(t)||t<=0)return;I.style.display="none";const a=L,d="left-card-"+a.name;let u=!1;if(document.getElementById(d)&&(u=!0),u){o.style.display="none",o.innerHTML="",document.getElementById("left-card-frame");const s=document.getElementById(d);s.textContent=a.name+" x"+(t+parseInt(s.dataset.amount)).toString(),s.dataset.amount=t+parseInt(s.dataset.amount),A+=a.mediatorValue*t,z+=a.lowValue*t,W+=a.highValue*t,se(a,t),J.textContent=`Value: ${r(A)} Gold (${r(z)}-${r(W)})`;let n=document.getElementById(d+"-tooltip");a.amount=parseInt(s.dataset.amount),ye(a,n),h()}else{ge+=1,o.style.display="none",o.innerHTML="";const s=document.getElementById("left-card-frame"),n=document.createElement("button"),y=ue(a,n,d,t);y.dataset.tooltipstatus="used",n.id=d,n.className="cardDisplay-card-left",n.style.color=G(a.rarity),n.style.borderColor=x(a.rarity),n.textContent=a.name+" x"+t,n.dataset.info=a,n.dataset.amount=t,s.appendChild(n),A+=a.mediatorValue*t,z+=a.lowValue*t,W+=a.highValue*t,se(a,t),J.textContent=`Value: ${r(A)} Gold (${r(z)}-${r(W)})`,h(),n.addEventListener("click",()=>{ge-=n.dataset.amount,A-=a.mediatorValue*n.dataset.amount,z-=a.lowValue*n.dataset.amount,W-=a.highValue*n.dataset.amount,Le(a,n.dataset.amount),J.textContent=`Value: ${r(A)} Gold (${r(z)}-${r(W)})`,h(),n.remove(),y.remove()})}}});const p=document.getElementById("right-card-search"),_=document.getElementById("right-card-amount");p.addEventListener("keydown",e=>{if(e.key==="Enter"){o.innerHTML="",p.style.display="none";const t=getComputedStyle(o).display;o.style.display=t==="grid"?"none":"grid";let a=0,d="";const u=[],s=[],n=[],y=[],E=[],b=[],C=[],v=[];ne.forEach(l=>{if(l.name.toLowerCase().includes(p.value.toLowerCase())||l.abbreviations.toLowerCase().includes(p.value.toLowerCase())){if(l.name.toLowerCase()===p.value.toLowerCase()||l.abbreviations.toLowerCase()===p.value.toLowerCase()){b.push(l);return}if(l.reskinAbbreviations.toLowerCase()===p.value.toLowerCase()||l.reskin.toLowerCase()===p.value.toLowerCase()){E.push(l);return}if(l.name.toLowerCase().startsWith(p.value.toLowerCase())){C.push(l);return}if(l.name.toLowerCase().includes((" "+p.value).toLowerCase())){v.push(l);return}if(l.abbreviations.toLowerCase().includes(p.value.toLowerCase())){y.push(l);return}if(l.reskinAbbreviations.toLowerCase().includes(p.value.toLowerCase())||l.reskin.toLowerCase().toLowerCase().includes(p.value.toLowerCase())){n.push(l);return}s.push(l)}}),u.push(...b),u.push(...E),u.push(...C),u.push(...v),u.push(...y),u.push(...n),u.push(...s),u.forEach(l=>{if(l.name.toLowerCase().includes(p.value.toLowerCase())||l.abbreviations.toLowerCase().includes(p.value.toLowerCase())||l.reskin.toLowerCase().includes(p.value.toLowerCase())||l.reskinAbbreviations.toLowerCase().includes(p.value.toLowerCase())){a+=1,d=l;const i=document.createElement("button");i.className="cardDisplay-item-right",i.style.color=G(l.rarity),i.style.borderColor=x(l.rarity),i.textContent=l.name,i.dataset.position=a,o.appendChild(i),ie(l,i),i.addEventListener("click",()=>{B(),p.style.display="none",L=l,_.style.display="flex",_.value="",_.focus(),o.style.display="none",o.innerHTML="",p.value=""})}}),p.value="",a===0?o.style.display="none":a===1&&(p.style.display="none",L=d,_.style.display="flex",_.value="",_.focus(),o.style.display="none",o.innerHTML="",p.value="")}});_.addEventListener("keydown",function(e){if(e.key==="Enter"){const t=parseInt(_.value);if(isNaN(t)||t<=0)return;_.style.display="none";const a=L,d="right-card-"+a.name;let u=!1;if(document.getElementById(d)&&(u=!0),u){o.style.display="none",o.innerHTML="",document.getElementById("right-card-frame");const s=document.getElementById(d);s.textContent=a.name+" x"+(t+parseInt(s.dataset.amount)).toString(),s.dataset.amount=t+parseInt(s.dataset.amount),P+=a.mediatorValue*t,X+=a.lowValue*t,Y+=a.highValue*t,de(a,t),Q.textContent=`Value: ${r(P)} Gold (${r(X)}-${r(Y)})`;let n=document.getElementById(d+"-tooltip");a.amount=parseInt(s.dataset.amount),ye(a,n),h()}else{fe+=1,o.style.display="none",o.innerHTML="";const s=document.getElementById("right-card-frame"),n=document.createElement("button"),y=ue(a,n,d,t);y.dataset.tooltipstatus="used",n.id=d,n.className="cardDisplay-card-right",n.style.color=G(a.rarity),n.style.borderColor=x(a.rarity),n.textContent=a.name+" x"+t,n.dataset.info=a,n.dataset.amount=t,s.appendChild(n),P+=a.mediatorValue*t,X+=a.lowValue*t,Y+=a.highValue*t,de(a,t),Q.textContent=`Value: ${r(P)} Gold (${r(X)}-${r(Y)})`,h(),n.addEventListener("click",()=>{fe-=n.dataset.amount,P-=a.mediatorValue*n.dataset.amount,X-=a.lowValue*n.dataset.amount,Y-=a.highValue*n.dataset.amount,be(a,n.dataset.amount),Q.textContent=`Value: ${r(P)} Gold (${r(X)}-${r(Y)})`,h(),n.remove(),y.remove()})}}});const $=document.getElementById("gold-left");$.addEventListener("keydown",e=>{if(e.key==="Enter"){$.blur();const t=parseInt($.value);if(isNaN(t)||t<=0){$.value="";return}$.value=r(t)+" Gold ("+r(t*.85)+")",Z=t,H+=t,ae+=t,te+=t,T()}});$.addEventListener("focus",()=>{$.value="",H-=Z,ae-=Z,te-=Z,Z=0,T()});const R=document.getElementById("gold-right");R.addEventListener("keydown",e=>{if(e.key==="Enter"){R.blur();const t=parseInt(R.value);if(isNaN(t)||t<=0){R.value="";return}R.value=r(t)+" Gold ("+r(t*.85)+")",ee=t,S+=t,re+=t,le+=t,T()}});R.addEventListener("focus",()=>{R.value="",S-=ee,re-=ee,le-=ee,ee=0,T()});function r(e){return e>=1e12?(e/1e12).toFixed(1).replace(/\.0$/,"")+"T":e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString()}function h(){const e=document.getElementById("left-card-frame"),t=document.getElementById("right-card-frame");if(document.getElementById("left-item-frame"),document.getElementById("right-item-frame"),K(j),K(q),K(J),K(Q),K(w),K(V),window.innerWidth>1365&&window.innerHeight>767){document.getElementById("title").style.display="block",e.style.gap="5px",t.style.gap="5px";return}document.getElementById("title").style.display="none",e.style.gap="0px",t.style.gap="0px"}function K(e){if(window.innerWidth>1365&&window.innerHeight>767){e.style.fontSize="",e!==w&&e!==V&&(e.style.top=""),e.style.right="";return}e===j?e.textContent.length>13&&(e.style.fontSize="75%",e.style.top="13%",e.style.right="72%"):e===q?e.textContent.length>13&&(e.style.fontSize="75%",e.style.top="13%",e.style.left="73%"):e===J?e.textContent.length>13&&(e.style.fontSize="75%",e.style.top="13%",e.style.right="55%"):e===Q?e.textContent.length>13&&(e.style.fontSize="75%",e.style.top="13%",e.style.right="11%"):e===w?e.textContent.length>13&&(e.style.fontSize="75%",e.style.right="42.5%"):e===V&&e.textContent.length>13&&(e.style.fontSize="75%",e.style.right="24%")}window.addEventListener("resize",()=>{h()});function x(e){if(e==="None")return"rgb(255, 255, 255)";if(e==="Common")return"rgb(255, 255, 255)";if(e==="Rare")return"rgb(0, 255, 17)";if(e==="Ultra Rare")return"rgb(255, 247, 7)";if(e==="Legendary")return"rgb(7, 255, 234)"}function G(e){if(e==="None")return"rgb(255, 255, 255)";if(e==="Common")return"rgb(255, 255, 255)";if(e==="Rare")return"rgb(0, 255, 17)";if(e==="Ultra Rare")return"rgb(255, 247, 7)";if(e==="Legendary")return"rgb(7, 255, 234)"}function he(e){e==="calc"?window.location.href="calc.html":e==="values"&&(window.location.href="values.html")}function we(){B();const e=document.getElementById("left-item-search");o.innerHTML="",o.style.display==="none"?(e.style.display="flex",e.focus()):(e.style.display="none",o.style.display="none",o.innerHTML="")}function Ve(){B();const e=document.getElementById("right-item-search");o.innerHTML="",o.style.display==="none"?(e.style.display="flex",e.focus()):(e.style.display="none",o.style.display="none",o.innerHTML="")}function Ee(){B();const e=document.getElementById("left-card-search");o.innerHTML="",o.style.display==="none"?(e.style.display="flex",e.focus()):(e.style.display="none",o.style.display="none",o.innerHTML="")}function ke(){B();const e=document.getElementById("right-card-search");o.innerHTML="",o.style.display==="none"?(e.style.display="flex",e.focus()):(e.style.display="none",o.style.display="none",o.innerHTML="")}async function me(){for(;ne.length===0||oe.length===0;){await new Promise(a=>setTimeout(a,500));const[e,t]=await Promise.all([Ce(),ve()]);ne=e,oe=t}}window.addEventListener("DOMContentLoaded",()=>{document.getElementById("add-item-left").addEventListener("click",we),document.getElementById("add-item-right").addEventListener("click",Ve),document.getElementById("add-card-left").addEventListener("click",Ee),document.getElementById("add-card-right").addEventListener("click",ke),document.getElementById("valButton").addEventListener("click",()=>he("values")),document.getElementById("calcButton").addEventListener("click",()=>he("calc")),j=document.getElementById("left-item-value"),q=document.getElementById("right-item-value"),J=document.getElementById("left-card-value"),Q=document.getElementById("right-card-value"),w=document.getElementById("left-global-value"),V=document.getElementById("right-global-value"),me(),h()});
