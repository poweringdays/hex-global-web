import{g as W,a as F}from"./main-V_iPaBIi.js";const H="/hex-global-web/assets/dropdown%20arrow-DkzXHHKr.png";let S=[],O=[];const h=document.getElementById("search"),y=document.getElementById("minimumValue"),L=document.getElementById("maximumValue"),C=document.getElementById("rarity"),g=document.getElementById("type"),m=document.getElementById("subtype"),_=document.getElementById("status"),I=document.getElementById("tl"),$=document.getElementById("search-button");let U=0,R=1/0,V=!1,b="",N=!1;h.addEventListener("focus",function(e){V=!0,h.placeholder="",h.value=""});h.addEventListener("blur",function(e){const n=N;N=!1,V=!1,h.placeholder="Search",v(h.value,n)});h.addEventListener("keydown",e=>{e.key==="Enter"&&(N=!0,h.blur(!0))});document.addEventListener("keydown",e=>{e.key==="/"&&!V&&(h.focus(),e.preventDefault())});$.addEventListener("mousedown",e=>{e.button===0&&(e.preventDefault(),v(h.value,!1))});function z(e){if(e==="None")return"rgb(255, 255, 255)";if(e==="Common")return"rgb(255, 255, 255)";if(e==="Rare")return"rgb(0, 255, 17)";if(e==="Ultra Rare")return"rgb(255, 247, 7)";if(e==="Legendary")return"rgb(7, 255, 234)"}function M(){if(window.innerWidth>1919&&window.innerHeight>767){document.getElementById("title").style.display="block",document.getElementById("logo").style.display="block";return}document.getElementById("title").style.display="none",document.getElementById("logo").style.display="none"}y.addEventListener("focus",()=>{V=!0,y.value=""});L.addEventListener("focus",()=>{V=!0,L.value=""});y.addEventListener("blur",()=>{const e=N;if(N=!1,V=!1,y.value!==""){const n=parseInt(y.value);n?(U=n,y.value="Min Value: "+D(n),v(b,e)):(U=0,y.value="Min Value: 0");return}y.value="Min Value: 0",U=0,v(b,e)});L.addEventListener("blur",()=>{const e=N;if(N=!1,V=!1,L.value!==""){const n=parseInt(L.value);n?(R=n,L.value="Max Value: "+D(n),v(b,e)):(R=1/0,L.value="Max Value: Infinity");return}L.value="Max value: Infinity",R=1/0,v(b,e)});y.addEventListener("keydown",e=>{e.key==="Enter"&&(N=!0,y.blur())});L.addEventListener("keydown",e=>{e.key==="Enter"&&(N=!0,L.blur())});C.addEventListener("change",()=>{v(b)});g.addEventListener("change",()=>{v(b)});m.addEventListener("change",()=>{v(b)});_.addEventListener("change",()=>{v(b)});I.addEventListener("change",()=>{v(b)});const E=document.getElementById("resultsContainer");let c=null;document.addEventListener("mousemove",e=>{c=document.elementFromPoint(e.clientX,e.clientY)});window.addEventListener("keydown",e=>{if(!V){if(parseInt(e.key)>=0&&parseInt(e.key)<=9){for(const n of E.children)if(n.dataset.position===e.key){e.preventDefault(),n.click();break}else if(e.key==="0"&&n.dataset.position==="10"){e.preventDefault(),n.click();break}}if(e.key==="Enter"){for(const n of E.children)if(n.dataset.position==="1"){if(n.dataset.positionCooldown==="true"){n.dataset.positionCooldown="false";return}e.preventDefault(),n.click();return}}if(e.key==="h"||e.key==="g"){let n=0,o=null,d=null,a=null,f=0;for(const i of E.children)i.dataset.status==="clicked"&&(n+=1,i.dataset.timeClicked>f&&(f=i.dataset.timeClicked,o=i.getElementsByClassName("resultName")[0].textContent,d=i.dataset.reskin,a=i.dataset.variant));if(n>=0){if(c!==null&&(c.className==="result"?(o=c.getElementsByClassName("resultName")[0].textContent,d=c.dataset.reskin,a=c.dataset.variant):(c.className==="resultName"||c.className==="resultOrigin"||c.className==="resultStatus"||c.className==="resultType"||c.className==="resultSubtype"||c.className==="resultReskin"||c.className==="resultTradeLocked"||c.className==="resultLastUpdated"||c.className==="resultWikiLink"||c.className==="resultImage")&&(o=c.parentElement.getElementsByClassName("resultName")[0].textContent,d=c.parentElement.dataset.reskin,a=c.parentElement.dataset.variant)),a){window.open("https://hexaria-full-version.fandom.com/wiki/"+w(a),"_blank");return}if(d){window.open("https://hexaria-full-version.fandom.com/wiki/"+w(d),"_blank");return}window.open("https://hexaria-full-version.fandom.com/wiki/"+w(o),"_blank");return}}else if(e.key==="v"||e.key==="b"||e.key==="c"||e.key==="f"){if(e.key==="c"){for(const n of E.children)if(n.dataset.status==="clicked"){if(lastVariantName){window.open("https://hexaria-full-version.fandom.com/wiki/"+w(n.dataset.variant));return}if(lastReskinName){window.open("https://hexaria-full-version.fandom.com/wiki/"+w(n.dataset.reskin));return}window.open("https://hexaria-full-version.fandom.com/wiki/"+w(n.getElementsByClassName("resultName")[0].textContent),"_blank");return}}else if(e.key==="v"||e.key==="f"){let n=0,o=null,d=null,a=null,f=0;for(const i of E.children)i.dataset.status==="clicked"&&(n+=1,i.dataset.timeClicked>f&&(f=i.dataset.timeClicked,o=i.getElementsByClassName("resultName")[0].textContent,d=i.dataset.reskin,a=i.dataset.variant));if(n>=0){if(a){window.open("https://hexaria-full-version.fandom.com/wiki/"+w(a),"_blank");return}if(d){window.open("https://hexaria-full-version.fandom.com/wiki/"+w(d),"_blank");return}window.open("https://hexaria-full-version.fandom.com/wiki/"+w(o),"_blank");return}}else if(e.key==="b"){let n=0,o=null,d=null,a=null;for(const f of E.children)f.dataset.status==="clicked"&&(n+=1,o=f.getElementsByClassName("resultName")[0].textContent,d=f.dataset.reskin,a=f.dataset.variant);if(n>=1){if(a){window.open("https://hexaria-full-version.fandom.com/wiki/"+w(a),"_blank");return}if(d){window.open("https://hexaria-full-version.fandom.com/wiki/"+w(d),"_blank");return}window.open("https://hexaria-full-version.fandom.com/wiki/"+w(o),"_blank");return}}}}});function w(e){return e.includes("(")&&!e.includes("(Card)")&&(e=e.replace(/ \([^)]+\)/g,"").trim()),e=e.replace("#",""),e.replace(/\s+/g,"_")}function T(e,n,o,d){const a=document.createElement("div");a.dataset.position=o,o===1&&(d?a.dataset.positionCooldown="true":a.dataset.positionCooldown="false"),a.style.position="relative",a.style.borderColor=z(e.rarity),a.className="result";const f=document.createElement("div");f.className="resultName",f.textContent=e.name,a.appendChild(f);const i=document.createElement("div");i.className="resultValue",i.dataset.textContent="Value: "+D(e.mediatorValue)+" Gold ("+D(e.lowValue)+"-"+D(e.highValue)+") ("+e.valueCertainty+" Certainty)",a.appendChild(i);const x=document.createElement("div");if(x.className="resultOrigin",x.dataset.textContent="Origin: "+e.origin,a.appendChild(x),"formerOrigin"in e&&e.formerOrigin!==""){const l=document.createElement("div");l.className="resultOrigin",l.dataset.textContent="Former Origin: "+e.formerOrigin,a.appendChild(l)}const B=document.createElement("div");B.className="resultStatus",B.dataset.textContent="Status: "+e.status,a.appendChild(B);const p=document.createElement("div");p.className="resultType",p.dataset.textContent="Type: "+e.type,a.appendChild(p);const A=document.createElement("div");if(A.className="resultSubtype",A.dataset.textContent="Subtype: "+e.subtype,a.appendChild(A),"reskin"in e&&e.reskin!==""){const l=document.createElement("div");l.className="resultReskin",l.dataset.textContent="Reskin: "+e.reskin,a.appendChild(l),a.dataset.reskin=e.reskin}if("variant"in e&&e.variant!==""){const l=document.createElement("div");l.className="resultVariant",l.dataset.textContent="Variant: "+e.variant,a.appendChild(l),a.dataset.variant=e.variant}const t=document.createElement("div");t.className="resultTradeLocked",t.dataset.textContent="Trade Locked: "+e.tradeLocked,e.tradeLocked===!0&&(t.style.color="red"),a.appendChild(t);const u=document.createElement("div");u.className="resultLastUpdated",u.dataset.textContent="Last Edited: "+e.dateUpdated,a.appendChild(u);const r=document.createElement("a");r.style.color="rgba(11, 225, 245, 1)",r.className="resultWikiLink";let s="https://hexaria-full-version.fandom.com/wiki/"+w(e.name);a.dataset.reskin&&(s="https://hexaria-full-version.fandom.com/wiki/"+w(a.dataset.reskin)),a.dataset.variant&&(s="https://hexaria-full-version.fandom.com/wiki/"+w(a.dataset.variant)),r.dataset.textContent="Wiki Link: "+s,r.href="",r.addEventListener("click",l=>{l.preventDefault(),window.open(s,"_blank")}),a.appendChild(r);const k=document.createElement("img");return k.className="resultImage",k.src=H,k.style.height="20px",k.style.width="30px",k.style.color="rgb(255, 255, 255)",k.style.position="absolute",k.style.right="15px",k.style.top="15px",a.appendChild(k),a.style.paddingBottom="45px",a.dataset.status="unclicked",(n||o===1)&&(a.dataset.status="clicked",a.dataset.timeClicked=Date.now(),o===1&&(a.dataset.timeClicked=Date.now()+1e3),a.style.paddingBottom="",k.style.transform="rotate(180deg)",Array.from(a.children).forEach(l=>{l.dataset.textContent&&(l.textContent=l.dataset.textContent)})),a.addEventListener("click",()=>{a.dataset.status==="unclicked"?(a.dataset.status="clicked",a.dataset.timeClicked=Date.now(),a.style.paddingBottom="",k.style.transform="rotate(180deg)",Array.from(a.children).forEach(l=>{l.dataset.textContent&&(l.textContent=l.dataset.textContent)})):(a.dataset.status="unclicked",a.style.paddingBottom="45px",k.style.transform="rotate(0deg)",Array.from(a.children).forEach(l=>{l.dataset.textContent&&(l.textContent="")}))}),a}function v(e,n){n||(n=!1),b=e;const o=[],d=[],a=[],f=[],i=[],x=[],B=[];O.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())){if(U>t.mediatorValue||R<t.mediatorValue||!t.rarity.toLowerCase().includes(C.value.toLowerCase())&&C.value!=="All"&&!C.value.toLowerCase().includes(t.rarity.toLowerCase())&&C.value!=="All"||!t.type.toLowerCase().includes(g.value.toLowerCase())&&g.value!=="All"&&!g.value.toLowerCase().includes(t.type.toLowerCase())&&g.value!=="All"||!t.subtype.toLowerCase().includes(m.value.toLowerCase())&&m.value!=="All"&&!m.value.toLowerCase().includes(t.subtype.toLowerCase())&&m.value!=="All")return;if(m.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(m.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(C.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(C.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(_.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(_.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(I.value!=="All"&&I.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){i.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){x.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){B.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){a.push(t);return}o.push(t)}}),S.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())||t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())){if(U>t.mediatorValue||R<t.mediatorValue||!t.rarity.toLowerCase().includes(C.value.toLowerCase())&&C.value!=="All"&&!C.value.toLowerCase().includes(t.rarity.toLowerCase())&&C.value!=="All"||!t.type.toLowerCase().includes(g.value.toLowerCase())&&g.value!=="All"&&!g.value.toLowerCase().includes(t.type.toLowerCase())&&g.value!=="All"||!t.subtype.toLowerCase().includes(m.value.toLowerCase())&&m.value!=="All"&&!m.value.toLowerCase().includes(t.subtype.toLowerCase())&&m.value!=="All")return;if(m.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(m.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(C.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(C.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(_.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(_.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(I.value!=="All"&&I.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){i.push(t);return}if(t.reskinAbbreviations.toLowerCase()===e.toLowerCase()||t.reskin.toLowerCase()===e.toLowerCase()){f.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){x.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){B.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){a.push(t);return}if(t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())){d.push(t);return}o.push(t)}}),E.innerHTML="",o.sort((t,u)=>{let r=t.name[0].toUpperCase(),s=u.name[0].toUpperCase();return r<s?-1:r>s?1:0}),a.sort((t,u)=>{let r=t.name[0].toUpperCase(),s=u.name[0].toUpperCase();return r<s?-1:r>s?1:0}),i.sort((t,u)=>{let r=t.name[0].toUpperCase(),s=u.name[0].toUpperCase();return r<s?-1:r>s?1:0}),f.sort((t,u)=>{let r=t.name[0].toUpperCase(),s=u.name[0].toUpperCase();return r<s?-1:r>s?1:0}),d.sort((t,u)=>{let r=t.name[0].toUpperCase(),s=u.name[0].toUpperCase();return r<s?-1:r>s?1:0}),x.sort((t,u)=>{let r=t.name[0].toUpperCase(),s=u.name[0].toUpperCase();return r<s?-1:r>s?1:0}),B.sort((t,u)=>{let r=t.name[0].toUpperCase(),s=u.name[0].toUpperCase();return r<s?-1:r>s?1:0});const p=[];p.push(...i),p.push(...f),p.push(...x),p.push(...B),p.push(...a),p.push(...d),p.push(...o);let A=0;if(p.length<=3&&p.length>0){p.forEach(t=>{A+=1;const u=T(t,!0,A,n);E.appendChild(u)});return}p.forEach(t=>{A+=1;const u=T(t,!1,A,n);E.appendChild(u)})}window.addEventListener("resize",()=>{M()});async function G(){for(;S.length===0||O.length===0;){await new Promise(o=>setTimeout(o,500));const[e,n]=await Promise.all([W(),F()]);S=e,O=n}}window.addEventListener("DOMContentLoaded",()=>{G(),M()});function D(e){return e>=1e12?(e/1e12).toFixed(1).replace(/\.0$/,"")+"T":e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString()}
