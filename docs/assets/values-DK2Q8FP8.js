import{g as M,a as T}from"./main-V_iPaBIi.js";const W="/hex-global-web/assets/dropdown%20arrow-DkzXHHKr.png";let N=[],D=[];const L=document.getElementById("search"),C=document.getElementById("minimumValue"),w=document.getElementById("maximumValue"),u=document.getElementById("rarity"),v=document.getElementById("type"),d=document.getElementById("subtype"),A=document.getElementById("status"),I=document.getElementById("tl"),F=document.getElementById("search-button");let U=0,V=1/0,E=!1,y="",R=!1;L.addEventListener("focus",function(e){E=!0,L.placeholder="",L.value=""});L.addEventListener("blur",function(e){const o=R;R=!1,E=!1,L.placeholder="Search",f(L.value,o)});L.addEventListener("keydown",e=>{e.key==="Enter"&&(R=!0,L.blur(!0))});document.addEventListener("keydown",e=>{e.key==="/"&&!E&&(L.focus(),e.preventDefault())});F.addEventListener("mousedown",e=>{e.button===0&&(e.preventDefault(),f(L.value,!1))});function H(e){if(e==="None")return"rgb(255, 255, 255)";if(e==="Common")return"rgb(255, 255, 255)";if(e==="Rare")return"rgb(0, 255, 17)";if(e==="Ultra Rare")return"rgb(255, 247, 7)";if(e==="Legendary")return"rgb(7, 255, 234)"}function S(){if(window.innerWidth>1919&&window.innerHeight>767){document.getElementById("title").style.display="block",document.getElementById("logo").style.display="block";return}document.getElementById("title").style.display="none",document.getElementById("logo").style.display="none"}C.addEventListener("focus",()=>{E=!0,C.value=""});w.addEventListener("focus",()=>{E=!0,w.value=""});C.addEventListener("blur",()=>{if(E=!1,C.value!==""){const e=parseInt(C.value);e?(U=e,C.value="Min Value: "+_(e),f(y)):(U=0,C.value="Min Value: 0");return}C.value="Min Value: 0",U=0,f(y)});w.addEventListener("blur",()=>{if(E=!1,w.value!==""){const e=parseInt(w.value);e?(V=e,w.value="Max Value: "+_(e),f(y)):(V=1/0,w.value="Max Value: Infinity");return}w.value="Max value: Infinity",V=1/0,f(y)});C.addEventListener("keydown",e=>{e.key==="Enter"&&C.blur()});w.addEventListener("keydown",e=>{e.key==="Enter"&&w.blur()});u.addEventListener("change",()=>{f(y)});v.addEventListener("change",()=>{f(y)});d.addEventListener("change",()=>{f(y)});A.addEventListener("change",()=>{f(y)});I.addEventListener("change",()=>{f(y)});const x=document.getElementById("resultsContainer");window.addEventListener("keydown",e=>{if(!E){if(parseInt(e.key)>=0&&parseInt(e.key)<=9){for(const o of x.children)if(o.dataset.position===e.key){e.preventDefault(),o.click();break}else if(e.key==="0"&&o.dataset.position==="10"){e.preventDefault(),o.click();break}}if(e.key==="Enter"){for(const o of x.children)if(o.dataset.position==="1"){if(o.dataset.positionCooldown==="true"){o.dataset.positionCooldown="false";return}e.preventDefault(),o.click();return}}}});function $(e){return e.includes("(")&&!e.includes("(Card)")&&(e=e.replace(/ \([^)]+\)/g,"").trim()),e=e.replace("#",""),e.replace(/\s+/g,"_")}function O(e,o,p,B){const r=document.createElement("div");r.dataset.position=p,p===1&&(B?r.dataset.positionCooldown="true":r.dataset.positionCooldown="false"),r.style.position="relative",r.style.borderColor=H(e.rarity),r.className="result";const m=document.createElement("div");m.className="resultName",m.textContent=e.name,r.appendChild(m);const h=document.createElement("div");h.className="resultValue",h.dataset.textContent="Value: "+_(e.mediatorValue)+" Gold ("+_(e.lowValue)+"-"+_(e.highValue)+") ("+e.valueCertainty+" Certainty)",r.appendChild(h);const g=document.createElement("div");if(g.className="resultOrigin",g.dataset.textContent="Origin: "+e.origin,r.appendChild(g),"formerOrigin"in e&&e.formerOrigin!==""){const l=document.createElement("div");l.className="resultOrigin",l.dataset.textContent="Former Origin: "+e.formerOrigin,r.appendChild(l)}const b=document.createElement("div");b.className="resultStatus",b.dataset.textContent="Status: "+e.status,r.appendChild(b);const i=document.createElement("div");i.className="resultType",i.dataset.textContent="Type: "+e.type,r.appendChild(i);const k=document.createElement("div");if(k.className="resultSubtype",k.dataset.textContent="Subtype: "+e.subtype,r.appendChild(k),"reskin"in e&&e.reskin!==""){const l=document.createElement("div");l.className="resultReskin",l.dataset.textContent="Reskin: "+e.reskin,r.appendChild(l)}const t=document.createElement("div");t.className="resultTradeLocked",t.dataset.textContent="Trade Locked: "+e.tradeLocked,e.tradeLocked===!0&&(t.style.color="red"),r.appendChild(t);const s=document.createElement("div");s.className="resultLastUpdated",s.dataset.textContent="Last Edited: "+e.dateUpdated,r.appendChild(s);const a=document.createElement("a");a.style.color="rgba(11, 225, 245, 1)",a.className="resultWikiLink";const n="https://hexaria-full-version.fandom.com/wiki/"+$(e.name);a.dataset.textContent="Wiki Link: "+n,a.href="",a.addEventListener("click",l=>{l.preventDefault(),window.open(n,"_blank")}),r.appendChild(a);const c=document.createElement("img");return c.className="resultImage",c.src=W,c.style.height="20px",c.style.width="30px",c.style.color="rgb(255, 255, 255)",c.style.position="absolute",c.style.right="15px",c.style.top="15px",r.appendChild(c),r.style.paddingBottom="45px",r.dataset.status="unclicked",(o||p===1)&&(r.dataset.status="clicked",r.style.paddingBottom="",c.style.transform="rotate(180deg)",Array.from(r.children).forEach(l=>{l.dataset.textContent&&(l.textContent=l.dataset.textContent)})),r.addEventListener("click",()=>{r.dataset.status==="unclicked"?(r.dataset.status="clicked",r.style.paddingBottom="",c.style.transform="rotate(180deg)",Array.from(r.children).forEach(l=>{l.dataset.textContent&&(l.textContent=l.dataset.textContent)})):(r.dataset.status="unclicked",r.style.paddingBottom="45px",c.style.transform="rotate(0deg)",Array.from(r.children).forEach(l=>{l.dataset.textContent&&(l.textContent="")}))}),r}function f(e,o){o||(o=!1),y=e;const p=[],B=[],r=[],m=[],h=[],g=[],b=[];D.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())){if(U>t.mediatorValue||V<t.mediatorValue||!t.rarity.toLowerCase().includes(u.value.toLowerCase())&&u.value!=="All"&&!u.value.toLowerCase().includes(t.rarity.toLowerCase())&&u.value!=="All"||!t.type.toLowerCase().includes(v.value.toLowerCase())&&v.value!=="All"&&!v.value.toLowerCase().includes(t.type.toLowerCase())&&v.value!=="All"||!t.subtype.toLowerCase().includes(d.value.toLowerCase())&&d.value!=="All"&&!d.value.toLowerCase().includes(t.subtype.toLowerCase())&&d.value!=="All")return;if(d.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(d.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(u.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(u.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(A.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(A.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(I.value!=="All"&&I.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){h.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){g.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){b.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){r.push(t);return}p.push(t)}}),N.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())||t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())){if(U>t.mediatorValue||V<t.mediatorValue||!t.rarity.toLowerCase().includes(u.value.toLowerCase())&&u.value!=="All"&&!u.value.toLowerCase().includes(t.rarity.toLowerCase())&&u.value!=="All"||!t.type.toLowerCase().includes(v.value.toLowerCase())&&v.value!=="All"&&!v.value.toLowerCase().includes(t.type.toLowerCase())&&v.value!=="All"||!t.subtype.toLowerCase().includes(d.value.toLowerCase())&&d.value!=="All"&&!d.value.toLowerCase().includes(t.subtype.toLowerCase())&&d.value!=="All")return;if(d.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(d.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(u.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(u.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(A.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(A.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(I.value!=="All"&&I.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){h.push(t);return}if(t.reskinAbbreviations.toLowerCase()===e.toLowerCase()||t.reskin.toLowerCase()===e.toLowerCase()){m.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){g.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){b.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){r.push(t);return}if(t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())){B.push(t);return}p.push(t)}}),x.innerHTML="",p.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),r.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),h.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),m.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),B.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),g.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0}),b.sort((t,s)=>{let a=t.name[0].toUpperCase(),n=s.name[0].toUpperCase();return a<n?-1:a>n?1:0});const i=[];i.push(...h),i.push(...m),i.push(...g),i.push(...b),i.push(...r),i.push(...B),i.push(...p);let k=0;if(i.length<=3&&i.length>0){i.forEach(t=>{k+=1;const s=O(t,!0,k,o);x.appendChild(s)});return}i.forEach(t=>{k+=1;const s=O(t,!1,k,o);x.appendChild(s)})}window.addEventListener("resize",()=>{S()});async function z(){for(;N.length===0||D.length===0;){await new Promise(p=>setTimeout(p,500));const[e,o]=await Promise.all([M(),T()]);N=e,D=o}}window.addEventListener("DOMContentLoaded",()=>{z(),S()});function _(e){return e>=1e12?(e/1e12).toFixed(1).replace(/\.0$/,"")+"T":e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString()}
