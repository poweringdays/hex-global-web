import{g as W,a as F}from"./main-V_iPaBIi.js";const H="/hex-global-web/assets/dropdown%20arrow-DkzXHHKr.png";let R=[],S=[];const L=document.getElementById("search"),m=document.getElementById("minimumValue"),y=document.getElementById("maximumValue"),f=document.getElementById("rarity"),v=document.getElementById("type"),p=document.getElementById("subtype"),A=document.getElementById("status"),I=document.getElementById("tl"),$=document.getElementById("search-button");let V=0,_=1/0,B=!1,k="",O=!1;L.addEventListener("focus",function(e){B=!0,L.placeholder="",L.value=""});L.addEventListener("blur",function(e){const s=O;O=!1,B=!1,L.placeholder="Search",w(L.value,s)});L.addEventListener("keydown",e=>{e.key==="Enter"&&(O=!0,L.blur(!0))});document.addEventListener("keydown",e=>{e.key==="/"&&!B&&(L.focus(),e.preventDefault())});$.addEventListener("mousedown",e=>{e.button===0&&(e.preventDefault(),w(L.value,!1))});function z(e){if(e==="None")return"rgb(255, 255, 255)";if(e==="Common")return"rgb(255, 255, 255)";if(e==="Rare")return"rgb(0, 255, 17)";if(e==="Ultra Rare")return"rgb(255, 247, 7)";if(e==="Legendary")return"rgb(7, 255, 234)"}function M(){if(window.innerWidth>1919&&window.innerHeight>767){document.getElementById("title").style.display="block",document.getElementById("logo").style.display="block";return}document.getElementById("title").style.display="none",document.getElementById("logo").style.display="none"}m.addEventListener("focus",()=>{B=!0,m.value=""});y.addEventListener("focus",()=>{B=!0,y.value=""});m.addEventListener("blur",()=>{if(B=!1,m.value!==""){const e=parseInt(m.value);e?(V=e,m.value="Min Value: "+D(e),w(k)):(V=0,m.value="Min Value: 0");return}m.value="Min Value: 0",V=0,w(k)});y.addEventListener("blur",()=>{if(B=!1,y.value!==""){const e=parseInt(y.value);e?(_=e,y.value="Max Value: "+D(e),w(k)):(_=1/0,y.value="Max Value: Infinity");return}y.value="Max value: Infinity",_=1/0,w(k)});m.addEventListener("keydown",e=>{e.key==="Enter"&&m.blur()});y.addEventListener("keydown",e=>{e.key==="Enter"&&y.blur()});f.addEventListener("change",()=>{w(k)});v.addEventListener("change",()=>{w(k)});p.addEventListener("change",()=>{w(k)});A.addEventListener("change",()=>{w(k)});I.addEventListener("change",()=>{w(k)});const h=document.getElementById("resultsContainer");let d=null;document.addEventListener("mousemove",e=>{d=document.elementFromPoint(e.clientX,e.clientY)});window.addEventListener("keydown",e=>{if(!B){if(parseInt(e.key)>=0&&parseInt(e.key)<=9){for(const s of h.children)if(s.dataset.position===e.key){e.preventDefault(),s.click();break}else if(e.key==="0"&&s.dataset.position==="10"){e.preventDefault(),s.click();break}}if(e.key==="Enter"){for(const s of h.children)if(s.dataset.position==="1"){if(s.dataset.positionCooldown==="true"){s.dataset.positionCooldown="false";return}e.preventDefault(),s.click();return}}if(e.key==="h"||e.key==="g"){let s=0,o=null,c=0;for(const a of h.children)a.dataset.status==="clicked"&&(s+=1,a.dataset.timeClicked>c&&(c=a.dataset.timeClicked,o=a.getElementsByClassName("resultName")[0].textContent));if(s>=1){d!==null&&(d.className==="result"?o=d.getElementsByClassName("resultName")[0].textContent:(d.className==="resultName"||d.className==="resultOrigin"||d.className==="resultStatus"||d.className==="resultType"||d.className==="resultSubtype"||d.className==="resultReskin"||d.className==="resultTradeLocked"||d.className==="resultLastUpdated"||d.className==="resultWikiLink"||d.className==="resultImage")&&(o=d.parentElement.getElementsByClassName("resultName")[0].textContent)),window.open("https://hexaria-full-version.fandom.com/wiki/"+U(o),"_blank");return}}else if(e.key==="v"||e.key==="b"||e.key==="c"||e.key==="f"){if(e.key==="c"){for(const s of h.children)if(s.dataset.status==="clicked"){window.open("https://hexaria-full-version.fandom.com/wiki/"+U(s.getElementsByClassName("resultName")[0].textContent),"_blank");return}}else if(e.key==="v"||e.key==="f"){let s=0,o=null,c=0;for(const a of h.children)a.dataset.status==="clicked"&&(s+=1,a.dataset.timeClicked>c&&(c=a.dataset.timeClicked,o=a.getElementsByClassName("resultName")[0].textContent));if(s>=1){window.open("https://hexaria-full-version.fandom.com/wiki/"+U(o),"_blank");return}}else if(e.key==="b"){let s=0,o=null;for(const c of h.children)c.dataset.status==="clicked"&&(s+=1,o=c.getElementsByClassName("resultName")[0].textContent);if(s>=1){window.open("https://hexaria-full-version.fandom.com/wiki/"+U(o),"_blank");return}}}}});function U(e){return e.includes("(")&&!e.includes("(Card)")&&(e=e.replace(/ \([^)]+\)/g,"").trim()),e=e.replace("#",""),e.replace(/\s+/g,"_")}function T(e,s,o,c){const a=document.createElement("div");a.dataset.position=o,o===1&&(c?a.dataset.positionCooldown="true":a.dataset.positionCooldown="false"),a.style.position="relative",a.style.borderColor=z(e.rarity),a.className="result";const x=document.createElement("div");x.className="resultName",x.textContent=e.name,a.appendChild(x);const g=document.createElement("div");g.className="resultValue",g.dataset.textContent="Value: "+D(e.mediatorValue)+" Gold ("+D(e.lowValue)+"-"+D(e.highValue)+") ("+e.valueCertainty+" Certainty)",a.appendChild(g);const b=document.createElement("div");if(b.className="resultOrigin",b.dataset.textContent="Origin: "+e.origin,a.appendChild(b),"formerOrigin"in e&&e.formerOrigin!==""){const i=document.createElement("div");i.className="resultOrigin",i.dataset.textContent="Former Origin: "+e.formerOrigin,a.appendChild(i)}const E=document.createElement("div");E.className="resultStatus",E.dataset.textContent="Status: "+e.status,a.appendChild(E);const u=document.createElement("div");u.className="resultType",u.dataset.textContent="Type: "+e.type,a.appendChild(u);const N=document.createElement("div");if(N.className="resultSubtype",N.dataset.textContent="Subtype: "+e.subtype,a.appendChild(N),"reskin"in e&&e.reskin!==""){const i=document.createElement("div");i.className="resultReskin",i.dataset.textContent="Reskin: "+e.reskin,a.appendChild(i)}const t=document.createElement("div");t.className="resultTradeLocked",t.dataset.textContent="Trade Locked: "+e.tradeLocked,e.tradeLocked===!0&&(t.style.color="red"),a.appendChild(t);const l=document.createElement("div");l.className="resultLastUpdated",l.dataset.textContent="Last Edited: "+e.dateUpdated,a.appendChild(l);const r=document.createElement("a");r.style.color="rgba(11, 225, 245, 1)",r.className="resultWikiLink";const n="https://hexaria-full-version.fandom.com/wiki/"+U(e.name);r.dataset.textContent="Wiki Link: "+n,r.href="",r.addEventListener("click",i=>{i.preventDefault(),window.open(n,"_blank")}),a.appendChild(r);const C=document.createElement("img");return C.className="resultImage",C.src=H,C.style.height="20px",C.style.width="30px",C.style.color="rgb(255, 255, 255)",C.style.position="absolute",C.style.right="15px",C.style.top="15px",a.appendChild(C),a.style.paddingBottom="45px",a.dataset.status="unclicked",(s||o===1)&&(a.dataset.status="clicked",a.dataset.timeClicked=Date.now(),o===1&&(a.dataset.timeClicked=Date.now()+1e3),a.style.paddingBottom="",C.style.transform="rotate(180deg)",Array.from(a.children).forEach(i=>{i.dataset.textContent&&(i.textContent=i.dataset.textContent)})),a.addEventListener("click",()=>{a.dataset.status==="unclicked"?(a.dataset.status="clicked",a.dataset.timeClicked=Date.now(),a.style.paddingBottom="",C.style.transform="rotate(180deg)",Array.from(a.children).forEach(i=>{i.dataset.textContent&&(i.textContent=i.dataset.textContent)})):(a.dataset.status="unclicked",a.style.paddingBottom="45px",C.style.transform="rotate(0deg)",Array.from(a.children).forEach(i=>{i.dataset.textContent&&(i.textContent="")}))}),a}function w(e,s){s||(s=!1),k=e;const o=[],c=[],a=[],x=[],g=[],b=[],E=[];S.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())){if(V>t.mediatorValue||_<t.mediatorValue||!t.rarity.toLowerCase().includes(f.value.toLowerCase())&&f.value!=="All"&&!f.value.toLowerCase().includes(t.rarity.toLowerCase())&&f.value!=="All"||!t.type.toLowerCase().includes(v.value.toLowerCase())&&v.value!=="All"&&!v.value.toLowerCase().includes(t.type.toLowerCase())&&v.value!=="All"||!t.subtype.toLowerCase().includes(p.value.toLowerCase())&&p.value!=="All"&&!p.value.toLowerCase().includes(t.subtype.toLowerCase())&&p.value!=="All")return;if(p.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(p.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(f.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(f.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(A.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(A.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(I.value!=="All"&&I.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){g.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){b.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){E.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){a.push(t);return}o.push(t)}}),R.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())||t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())){if(V>t.mediatorValue||_<t.mediatorValue||!t.rarity.toLowerCase().includes(f.value.toLowerCase())&&f.value!=="All"&&!f.value.toLowerCase().includes(t.rarity.toLowerCase())&&f.value!=="All"||!t.type.toLowerCase().includes(v.value.toLowerCase())&&v.value!=="All"&&!v.value.toLowerCase().includes(t.type.toLowerCase())&&v.value!=="All"||!t.subtype.toLowerCase().includes(p.value.toLowerCase())&&p.value!=="All"&&!p.value.toLowerCase().includes(t.subtype.toLowerCase())&&p.value!=="All")return;if(p.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(p.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(f.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(f.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(A.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(A.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(I.value!=="All"&&I.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){g.push(t);return}if(t.reskinAbbreviations.toLowerCase()===e.toLowerCase()||t.reskin.toLowerCase()===e.toLowerCase()){x.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){b.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){E.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){a.push(t);return}if(t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())){c.push(t);return}o.push(t)}}),h.innerHTML="",o.sort((t,l)=>{let r=t.name[0].toUpperCase(),n=l.name[0].toUpperCase();return r<n?-1:r>n?1:0}),a.sort((t,l)=>{let r=t.name[0].toUpperCase(),n=l.name[0].toUpperCase();return r<n?-1:r>n?1:0}),g.sort((t,l)=>{let r=t.name[0].toUpperCase(),n=l.name[0].toUpperCase();return r<n?-1:r>n?1:0}),x.sort((t,l)=>{let r=t.name[0].toUpperCase(),n=l.name[0].toUpperCase();return r<n?-1:r>n?1:0}),c.sort((t,l)=>{let r=t.name[0].toUpperCase(),n=l.name[0].toUpperCase();return r<n?-1:r>n?1:0}),b.sort((t,l)=>{let r=t.name[0].toUpperCase(),n=l.name[0].toUpperCase();return r<n?-1:r>n?1:0}),E.sort((t,l)=>{let r=t.name[0].toUpperCase(),n=l.name[0].toUpperCase();return r<n?-1:r>n?1:0});const u=[];u.push(...g),u.push(...x),u.push(...b),u.push(...E),u.push(...a),u.push(...c),u.push(...o);let N=0;if(u.length<=3&&u.length>0){u.forEach(t=>{N+=1;const l=T(t,!0,N,s);h.appendChild(l)});return}u.forEach(t=>{N+=1;const l=T(t,!1,N,s);h.appendChild(l)})}window.addEventListener("resize",()=>{M()});async function G(){for(;R.length===0||S.length===0;){await new Promise(o=>setTimeout(o,500));const[e,s]=await Promise.all([W(),F()]);R=e,S=s}}window.addEventListener("DOMContentLoaded",()=>{G(),M()});function D(e){return e>=1e12?(e/1e12).toFixed(1).replace(/\.0$/,"")+"T":e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString()}
