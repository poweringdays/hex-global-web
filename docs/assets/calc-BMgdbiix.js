import{g as _e,a as Be}from"./main-V_iPaBIi.js";let de=[],ie=[],w="",O=0,re=0,ne=0,te=0,I="",N=0,le=0,se=0,ae=0,_="",m=0,D=0,U=0,he=0,Q="",F=0,z=0,W=0,be=0,Z="",X=0,Y=0,P=0,Le=0,A="",K=0,j=0,q=0,ve=0,ee="",h=!1;function R(){O>N?(I.style.color="rgb(0, 255, 0)",_.style.color="red",I.style.top="7%",_.style.top="9%"):O<N?(I.style.color="red",_.style.color="rgb(0, 255, 0)",I.style.top="9%",_.style.top="7%"):(I.style.color="white",_.style.color="white",I.style.top="",_.style.top=""),I.textContent=`Total Value: ${a(O)} Gold (${a(ne)}-${a(re)})`,_.textContent=`Total Value: ${a(N)} Gold (${a(se)}-${a(le)})`}function ue(e,t){O+=e.mediatorValue*t,ne+=e.lowValue*t,re+=e.highValue*t,R()}function ye(e,t){N+=e.mediatorValue*t,se+=e.lowValue*t,le+=e.highValue*t,R()}function Ce(e,t){O-=e.mediatorValue*t,ne-=e.lowValue*t,re-=e.highValue*t,R()}function we(e,t){N-=e.mediatorValue*t,se-=e.lowValue*t,le-=e.highValue*t,R()}function x(){const e=Array.from(document.getElementsByClassName("tooltip"));for(const t of e)t.dataset.tooltipstatus==="loose"&&t.remove()}function ge(e){return e.includes("(")&&!e.includes("(Card)")&&(e=e.replace(/ \([^)]+\)/g,"").trim()),e=e.replace("#",""),e.replace(/\s+/g,"_")}let M=null;document.addEventListener("mousemove",e=>{M=document.elementFromPoint(e.clientX,e.clientY)});window.addEventListener("keydown",e=>{if(!(h||p.checkVisibility()||f.checkVisibility()||y.checkVisibility()||c.checkVisibility()||b.checkVisibility()||L.checkVisibility()||v.checkVisibility()||V.checkVisibility())){if(e.key==="f"||e.key==="g"||e.key==="h"){if(!M.dataset.itemName)return;if(M.dataset.reskin){window.open("https://hexaria-full-version.fandom.com/wiki/"+ge(M.dataset.reskin),"_blank");return}if(M.dataset.variant){window.open("https://hexaria-full-version.fandom.com/wiki/"+ge(M.dataset.variant),"_blank");return}window.open("https://hexaria-full-version.fandom.com/wiki/"+ge(M.dataset.itemName),"_blank");return}else if(e.key==="Enter"||e.key==="Backspace"||e.key==="r"){oe();return}}});function ce(e,t,r,s,i){const o=document.createElement("div");return o.dataset.tooltipstatus="loose",o.id=r+"-tooltip",o.className="tooltip",e.tradeLocked===!0&&(o.style.color="red"),"formerOrigin"in e&&e.formerOrigin!==""?"reskin"in e&&e.reskin!==""?o.innerHTML="Total Value: "+a(e.mediatorValue*s)+" Gold ("+a(e.lowValue*s)+"-"+a(e.highValue*s)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"variant"in e&&e.variant!==""?o.innerHTML="Total Value: "+a(e.mediatorValue*s)+" Gold ("+a(e.lowValue*s)+"-"+a(e.highValue*s)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Variant: "+e.variant+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:o.innerHTML="Total Value: "+a(e.mediatorValue*s)+" Gold ("+a(e.lowValue*s)+"-"+a(e.highValue*s)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"reskin"in e&&e.reskin!==""?o.innerHTML="Total Value: "+a(e.mediatorValue*s)+" Gold ("+a(e.lowValue*s)+"-"+a(e.highValue*s)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"variant"in e&&e.variant!==""?o.innerHTML="Total Value: "+a(e.mediatorValue*s)+" Gold ("+a(e.lowValue*s)+"-"+a(e.highValue*s)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Variant: "+e.variant+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:o.innerHTML="Total Value: "+a(e.mediatorValue*s)+" Gold ("+a(e.lowValue*s)+"-"+a(e.highValue*s)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated,o.style.border="1px solid rgb(255, 255, 255)",o.style.borderRadius="3px",document.body.appendChild(o),i?(t.addEventListener("mouseenter",()=>{o.style.display="block"}),t.addEventListener("mousemove",l=>{o.style.left=l.pageX-10-o.offsetWidth+"px",o.style.top=l.pageY+10+"px"}),t.addEventListener("mouseleave",()=>{o.style.display="none"})):(t.addEventListener("mouseenter",()=>{o.style.display="block"}),t.addEventListener("mousemove",l=>{o.style.left=l.pageX+10+"px",o.style.top=l.pageY+10+"px"}),t.addEventListener("mouseleave",()=>{o.style.display="none"})),o}function pe(e,t,r){const s=document.createElement("div");return s.dataset.tooltipstatus="loose",s.className="tooltip",e.tradeLocked===!0&&(s.style.color="red"),"formerOrigin"in e&&e.formerOrigin!==""?"reskin"in e&&e.reskin!==""?s.innerHTML="Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"variant"in e&&e.variant!==""?s.innerHTML="Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Variant: "+e.variant+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:s.innerHTML="Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"reskin"in e&&e.reskin!==""?s.innerHTML="Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"variant"in e&&e.variant!==""?s.innerHTML="Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Variant: "+e.variant+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:s.innerHTML="Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated,s.style.border="1px solid rgb(255, 255, 255)",s.style.borderRadius="3px",document.body.appendChild(s),t.addEventListener("mouseenter",()=>{s.style.display="block"}),t.addEventListener("mousemove",i=>{s.style.left=i.pageX+10+"px",s.style.top=i.pageY+10+"px"}),t.addEventListener("mouseleave",()=>{s.style.display="none"}),s}function fe(e,t){"formerOrigin"in e&&e.formerOrigin!==""?"reskin"in e&&e.reskin!==""?t.innerHTML="Total Value: "+a(e.mediatorValue*e.amount)+" Gold ("+a(e.lowValue*e.amount)+"-"+a(e.highValue*e.amount)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"variant"in e&&e.variant!==""?t.innerHTML="Total Value: "+a(e.mediatorValue*e.amount)+" Gold ("+a(e.lowValue*e.amount)+"-"+a(e.highValue*e.amount)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Variant: "+e.variant+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:t.innerHTML="Total Value: "+a(e.mediatorValue*e.amount)+" Gold ("+a(e.lowValue*e.amount)+"-"+a(e.highValue*e.amount)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Former Origin: "+e.formerOrigin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"reskin"in e&&e.reskin!==""?t.innerHTML="Total Value: "+a(e.mediatorValue*e.amount)+" Gold ("+a(e.lowValue*e.amount)+"-"+a(e.highValue*e.amount)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Reskin: "+e.reskin+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:"variant"in e&&e.variant!==""?t.innerHTML="Total Value: "+a(e.mediatorValue*e.amount)+" Gold ("+a(e.lowValue*e.amount)+"-"+a(e.highValue*e.amount)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Variant: "+e.variant+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated:t.innerHTML="Total Value: "+a(e.mediatorValue*e.amount)+" Gold ("+a(e.lowValue*e.amount)+"-"+a(e.highValue*e.amount)+")<br>Value: "+a(e.mediatorValue)+" Gold ("+a(e.lowValue)+"-"+a(e.highValue)+") ("+e.valueCertainty+" Certainty)<br>Origin: "+e.origin+"<br>Status: "+e.status+"<br>Rarity: "+e.rarity+"<br>Type: "+e.type+"<br>Subtype: "+e.subtype+"<br>Trade Locked: "+e.tradeLocked+"<br>Last Edited: "+e.dateUpdated}const d=document.getElementById("item-grid");d.style.display="none";window.addEventListener("keydown",e=>{if(!d.checkVisibility()&&!b.checkVisibility()&&!p.checkVisibility()&&!L.checkVisibility()&&!f.checkVisibility()&&!y.checkVisibility()&&!v.checkVisibility()&&!c.checkVisibility()&&!V.checkVisibility()&&!h){parseInt(e.key)>0&&parseInt(e.key)<=4&&(e.key==="1"?(e.preventDefault(),ke()):e.key==="2"?(e.preventDefault(),Te()):e.key==="3"?(e.preventDefault(),Ie()):e.key==="4"&&(e.preventDefault(),Ee()));return}if(parseInt(e.key)>=0&&parseInt(e.key)<=9){for(const t of d.children)if(t.dataset.position===e.key){e.preventDefault(),t.click();break}else if(e.key==="0"&&t.dataset.position==="10"){e.preventDefault(),t.click();break}}});const p=document.getElementById("left-item-search");p.style.display="none";p.addEventListener("keydown",e=>{if(e.key==="Enter"){d.innerHTML="",p.style.display="none";const t=getComputedStyle(d).display;d.style.display=t==="grid"?"none":"grid";let r=0,s="";const i=[],o=[],l=[],g=[],B=[],k=[],E=[],T=[];ie.forEach(n=>{if(n.name.toLowerCase().includes(p.value.toLowerCase())||n.abbreviations.toLowerCase().includes(p.value.toLowerCase())){if(n.name.toLowerCase()===p.value.toLowerCase()||n.abbreviations.toLowerCase()===p.value.toLowerCase()){k.push(n);return}if(n.name.toLowerCase().startsWith(p.value.toLowerCase())){E.push(n);return}if(n.name.toLowerCase().includes((" "+p.value).toLowerCase())){T.push(n);return}if(n.abbreviations.toLowerCase().includes(p.value.toLowerCase())){g.push(n);return}o.push(n)}}),i.push(...k),i.push(...B),i.push(...E),i.push(...T),i.push(...g),i.push(...l),i.push(...o),i.forEach(n=>{if(n.name.toLowerCase().includes(p.value.toLowerCase())||n.abbreviations.toLowerCase().includes(p.value.toLowerCase())){r+=1,s=n;const u=document.createElement("button");u.className="cardDisplay-item-left",u.style.color=$(n.rarity),u.style.borderColor=H(n.rarity),u.textContent=n.name,u.dataset.position=r,u.dataset.itemName=n.name,d.appendChild(u),pe(n,u),u.addEventListener("click",()=>{x(),p.style.display="none",w=n,b.style.display="flex",b.value="",h=!0,b.focus(),d.style.display="none",d.innerHTML="",p.value=""})}}),p.value="",r===0?d.style.display="none":r===1&&(p.style.display="none",w=s,b.style.display="flex",b.value="",b.focus(),d.style.display="none",d.innerHTML="",p.value="")}});const b=document.getElementById("left-item-amount");b.style.display="none";b.addEventListener("keydown",function(e){if(e.key==="Enter"){const t=parseInt(b.value);if(isNaN(t)||t<=0)return;b.style.display="none";const r=w,s="left-item-"+r.name;let i=!1;if(document.getElementById(s)&&(i=!0),i){d.style.display="none",d.innerHTML="",document.getElementById("left-item-frame");const o=document.getElementById(s);o.textContent=r.name+" x"+(t+parseInt(o.dataset.amount)).toString(),o.dataset.amount=t+parseInt(o.dataset.amount),U+=r.mediatorValue*t,m+=r.lowValue*t,D+=r.highValue*t,ue(r,t),Q.textContent=`Value: ${a(U)} Gold (${a(m)}-${a(D)})`;let l=document.getElementById(s+"-tooltip");r.amount=parseInt(o.dataset.amount),fe(r,l),C()}else{he+=1,d.style.display="none",d.innerHTML="";const o=document.getElementById("left-item-frame"),l=document.createElement("button"),g=ce(r,l,s,t);g.dataset.tooltipstatus="used",l.id=s,l.className="cardDisplay-item-left",l.style.color=$(r.rarity),l.style.borderColor=H(r.rarity),l.textContent=r.name+" x"+t,l.dataset.info=r,l.dataset.itemName=r.name,l.dataset.amount=t,o.appendChild(l),U+=r.mediatorValue*t,m+=r.lowValue*t,D+=r.highValue*t,Q.textContent=`Value: ${a(U)} Gold (${a(m)}-${a(D)})`,ue(r,t),C(),l.addEventListener("click",()=>{he-=l.dataset.amount,U-=r.mediatorValue*l.dataset.amount,m-=r.lowValue*l.dataset.amount,D-=r.highValue*l.dataset.amount,Ce(r,l.dataset.amount),Q.textContent=`Value: ${a(U)} Gold (${a(m)}-${a(D)})`,C(),l.remove(),g.remove()})}}});const f=document.getElementById("right-item-search");f.style.display="none";const L=document.getElementById("right-item-amount");L.style.display="none";f.addEventListener("keydown",e=>{if(e.key==="Enter"){d.innerHTML="",f.style.display="none";const t=getComputedStyle(d).display;d.style.display=t==="grid"?"none":"grid";let r=0,s="";const i=[],o=[],l=[],g=[],B=[],k=[],E=[],T=[];ie.forEach(n=>{if(n.name.toLowerCase().includes(f.value.toLowerCase())||n.abbreviations.toLowerCase().includes(f.value.toLowerCase())){if(n.name.toLowerCase()===f.value.toLowerCase()||n.abbreviations.toLowerCase()===f.value.toLowerCase()){k.push(n);return}if(n.name.toLowerCase().startsWith(f.value.toLowerCase())){E.push(n);return}if(n.name.toLowerCase().includes((" "+f.value).toLowerCase())){T.push(n);return}if(n.abbreviations.toLowerCase().includes(f.value.toLowerCase())){g.push(n);return}o.push(n)}}),i.push(...k),i.push(...B),i.push(...E),i.push(...T),i.push(...g),i.push(...l),i.push(...o),i.forEach(n=>{if(n.name.toLowerCase().includes(f.value.toLowerCase())||n.abbreviations.toLowerCase().includes(f.value.toLowerCase())){r+=1,s=n;const u=document.createElement("button");u.className="cardDisplay-item-right",u.style.color=$(n.rarity),u.style.borderColor=H(n.rarity),u.textContent=n.name,u.dataset.position=r,u.dataset.itemName=n.name,d.appendChild(u),pe(n,u),u.addEventListener("click",()=>{x(),f.style.display="none",w=n,L.style.display="flex",L.value="",h=!0,L.focus(),d.style.display="none",d.innerHTML="",f.value=""})}}),f.value="",r===0?d.style.display="none":r===1&&(f.style.display="none",w=s,L.style.display="flex",L.value="",L.focus(),d.style.display="none",d.innerHTML="",f.value="")}});L.addEventListener("keydown",function(e){if(e.key==="Enter"){const t=parseInt(L.value);if(isNaN(t)||t<=0)return;L.style.display="none";const r=w,s="right-item-"+r.name;let i=!1;if(document.getElementById(s)&&(i=!0),i){d.style.display="none",d.innerHTML="",document.getElementById("right-item-frame");const o=document.getElementById(s);o.textContent=r.name+" x"+(t+parseInt(o.dataset.amount)).toString(),o.dataset.amount=t+parseInt(o.dataset.amount),W+=r.mediatorValue*t,F+=r.lowValue*t,z+=r.highValue*t,ye(r,t),Z.textContent=`Value: ${a(W)} Gold (${a(F)}-${a(z)})`;let l=document.getElementById(s+"-tooltip");r.amount=parseInt(o.dataset.amount),fe(r,l),C()}else{be+=1,d.style.display="none",d.innerHTML="";const o=document.getElementById("right-item-frame"),l=document.createElement("button"),g=ce(r,l,s,t,!0);g.dataset.tooltipstatus="used",l.id=s,l.className="cardDisplay-item-right",l.style.color=$(r.rarity),l.style.borderColor=H(r.rarity),l.textContent=r.name+" x"+t,l.dataset.info=r,l.dataset.itemName=r.name,l.dataset.amount=t,o.appendChild(l),W+=r.mediatorValue*t,F+=r.lowValue*t,z+=r.highValue*t,ye(r,t),Z.textContent=`Value: ${a(W)} Gold (${a(F)}-${a(z)})`,C(),l.addEventListener("click",()=>{be-=l.dataset.amount,W-=r.mediatorValue*l.dataset.amount,F-=r.lowValue*l.dataset.amount,z-=r.highValue*l.dataset.amount,we(r,l.dataset.amount),Z.textContent=`Value: ${a(W)} Gold (${a(F)}-${a(z)})`,C(),l.remove(),g.remove()})}}});const y=document.getElementById("left-card-search");y.style.display="none";const v=document.getElementById("left-card-amount");v.style.display="none";y.addEventListener("keydown",e=>{if(e.key==="Enter"){d.innerHTML="",y.style.display="none";const t=getComputedStyle(d).display;d.style.display=t==="grid"?"none":"grid";let r=0,s="";const i=[],o=[],l=[],g=[],B=[],k=[],E=[],T=[];de.forEach(n=>{if(n.name.toLowerCase().includes(y.value.toLowerCase())||n.abbreviations.toLowerCase().includes(y.value.toLowerCase())){if(n.name.toLowerCase()===y.value.toLowerCase()||n.abbreviations.toLowerCase()===y.value.toLowerCase()){k.push(n);return}if(n.reskinAbbreviations.toLowerCase()===y.value.toLowerCase()||n.reskin.toLowerCase()===y.value.toLowerCase()){B.push(n);return}if(n.name.toLowerCase().startsWith(y.value.toLowerCase())){E.push(n);return}if(n.name.toLowerCase().includes((" "+y.value).toLowerCase())){T.push(n);return}if(n.abbreviations.toLowerCase().includes(y.value.toLowerCase())){g.push(n);return}if(n.reskinAbbreviations.toLowerCase().includes(y.value.toLowerCase())||n.reskin.toLowerCase().includes(y.value.toLowerCase())){l.push(n);return}o.push(n)}}),i.push(...k),i.push(...B),i.push(...E),i.push(...T),i.push(...g),i.push(...l),i.push(...o),i.forEach(n=>{if(n.name.toLowerCase().includes(y.value.toLowerCase())||n.abbreviations.toLowerCase().includes(y.value.toLowerCase())||n.reskin.toLowerCase().includes(y.value.toLowerCase())||n.reskinAbbreviations.toLowerCase().includes(y.value.toLowerCase())){r+=1,s=n;const u=document.createElement("button");u.className="cardDisplay-item-left",u.style.color=$(n.rarity),u.style.borderColor=H(n.rarity),u.textContent=n.name,u.dataset.position=r,u.dataset.itemName=n.name,"reskin"in n&&n.reskin!==""&&(u.dataset.reskin=n.reskin),"variant"in n&&n.variant!==""&&(u.dataset.variant=n.variant),d.appendChild(u),pe(n,u),u.addEventListener("click",()=>{x(),y.style.display="none",w=n,v.style.display="flex",v.value="",h=!0,v.focus(),d.style.display="none",d.innerHTML="",y.value=""})}}),y.value="",r===0?d.style.display="none":r===1&&(y.style.display="none",w=s,v.style.display="flex",v.value="",v.focus(),d.style.display="none",d.innerHTML="",y.value="")}});v.addEventListener("keydown",function(e){if(e.key==="Enter"){const t=parseInt(v.value);if(isNaN(t)||t<=0)return;v.style.display="none";const r=w,s="left-card-"+r.name;let i=!1;if(document.getElementById(s)&&(i=!0),i){d.style.display="none",d.innerHTML="",document.getElementById("left-card-frame");const o=document.getElementById(s);o.textContent=r.name+" x"+(t+parseInt(o.dataset.amount)).toString(),o.dataset.amount=t+parseInt(o.dataset.amount),P+=r.mediatorValue*t,X+=r.lowValue*t,Y+=r.highValue*t,ue(r,t),A.textContent=`Value: ${a(P)} Gold (${a(X)}-${a(Y)})`;let l=document.getElementById(s+"-tooltip");r.amount=parseInt(o.dataset.amount),fe(r,l),C()}else{Le+=1,d.style.display="none",d.innerHTML="";const o=document.getElementById("left-card-frame"),l=document.createElement("button"),g=ce(r,l,s,t);g.dataset.tooltipstatus="used",l.id=s,l.className="cardDisplay-card-left",l.style.color=$(r.rarity),l.style.borderColor=H(r.rarity),l.textContent=r.name+" x"+t,l.dataset.info=r,l.dataset.itemName=r.name,"reskin"in r&&r.reskin!==""&&(l.dataset.reskin=r.reskin),"variant"in r&&r.variant!==""&&(l.dataset.variant=r.variant),l.dataset.amount=t,o.appendChild(l),P+=r.mediatorValue*t,X+=r.lowValue*t,Y+=r.highValue*t,ue(r,t),A.textContent=`Value: ${a(P)} Gold (${a(X)}-${a(Y)})`,C(),l.addEventListener("click",()=>{Le-=l.dataset.amount,P-=r.mediatorValue*l.dataset.amount,X-=r.lowValue*l.dataset.amount,Y-=r.highValue*l.dataset.amount,Ce(r,l.dataset.amount),A.textContent=`Value: ${a(P)} Gold (${a(X)}-${a(Y)})`,C(),l.remove(),g.remove()})}}});const c=document.getElementById("right-card-search");c.style.display="none";const V=document.getElementById("right-card-amount");V.style.display="none";c.addEventListener("keydown",e=>{if(e.key==="Enter"){d.innerHTML="",c.style.display="none";const t=getComputedStyle(d).display;d.style.display=t==="grid"?"none":"grid";let r=0,s="";const i=[],o=[],l=[],g=[],B=[],k=[],E=[],T=[];de.forEach(n=>{if(n.name.toLowerCase().includes(c.value.toLowerCase())||n.abbreviations.toLowerCase().includes(c.value.toLowerCase())){if(n.name.toLowerCase()===c.value.toLowerCase()||n.abbreviations.toLowerCase()===c.value.toLowerCase()){k.push(n);return}if(n.reskinAbbreviations.toLowerCase()===c.value.toLowerCase()||n.reskin.toLowerCase()===c.value.toLowerCase()){B.push(n);return}if(n.name.toLowerCase().startsWith(c.value.toLowerCase())){E.push(n);return}if(n.name.toLowerCase().includes((" "+c.value).toLowerCase())){T.push(n);return}if(n.abbreviations.toLowerCase().includes(c.value.toLowerCase())){g.push(n);return}if(n.reskinAbbreviations.toLowerCase().includes(c.value.toLowerCase())||n.reskin.toLowerCase().toLowerCase().includes(c.value.toLowerCase())){l.push(n);return}o.push(n)}}),i.push(...k),i.push(...B),i.push(...E),i.push(...T),i.push(...g),i.push(...l),i.push(...o),i.forEach(n=>{if(n.name.toLowerCase().includes(c.value.toLowerCase())||n.abbreviations.toLowerCase().includes(c.value.toLowerCase())||n.reskin.toLowerCase().includes(c.value.toLowerCase())||n.reskinAbbreviations.toLowerCase().includes(c.value.toLowerCase())){r+=1,s=n;const u=document.createElement("button");u.className="cardDisplay-item-right",u.style.color=$(n.rarity),u.style.borderColor=H(n.rarity),u.textContent=n.name,u.dataset.position=r,u.dataset.itemName=n.name,"reskin"in n&&n.reskin!==""&&(u.dataset.reskin=n.reskin),"variant"in n&&n.variant!==""&&(u.dataset.variant=n.variant),d.appendChild(u),pe(n,u),u.addEventListener("click",()=>{x(),c.style.display="none",w=n,V.style.display="flex",V.value="",h=!0,V.focus(),d.style.display="none",d.innerHTML="",c.value=""})}}),c.value="",r===0?d.style.display="none":r===1&&(c.style.display="none",w=s,V.style.display="flex",V.value="",V.focus(),d.style.display="none",d.innerHTML="",c.value="")}});V.addEventListener("keydown",function(e){if(e.key==="Enter"){const t=parseInt(V.value);if(isNaN(t)||t<=0)return;V.style.display="none";const r=w,s="right-card-"+r.name;let i=!1;if(document.getElementById(s)&&(i=!0),i){d.style.display="none",d.innerHTML="",document.getElementById("right-card-frame");const o=document.getElementById(s);o.textContent=r.name+" x"+(t+parseInt(o.dataset.amount)).toString(),o.dataset.amount=t+parseInt(o.dataset.amount),q+=r.mediatorValue*t,K+=r.lowValue*t,j+=r.highValue*t,ye(r,t),ee.textContent=`Value: ${a(q)} Gold (${a(K)}-${a(j)})`;let l=document.getElementById(s+"-tooltip");r.amount=parseInt(o.dataset.amount),fe(r,l),C()}else{ve+=1,d.style.display="none",d.innerHTML="";const o=document.getElementById("right-card-frame"),l=document.createElement("button"),g=ce(r,l,s,t);g.dataset.tooltipstatus="used",l.id=s,l.className="cardDisplay-card-right",l.style.color=$(r.rarity),l.style.borderColor=H(r.rarity),l.textContent=r.name+" x"+t,l.dataset.info=r,l.dataset.itemName=r.name,"reskin"in r&&r.reskin!==""&&(l.dataset.reskin=r.reskin),"variant"in r&&r.variant!==""&&(l.dataset.variant=r.variant),l.dataset.amount=t,o.appendChild(l),q+=r.mediatorValue*t,K+=r.lowValue*t,j+=r.highValue*t,ye(r,t),ee.textContent=`Value: ${a(q)} Gold (${a(K)}-${a(j)})`,C(),l.addEventListener("click",()=>{ve-=l.dataset.amount,q-=r.mediatorValue*l.dataset.amount,K-=r.lowValue*l.dataset.amount,j-=r.highValue*l.dataset.amount,we(r,l.dataset.amount),ee.textContent=`Value: ${a(q)} Gold (${a(K)}-${a(j)})`,C(),l.remove(),g.remove()})}}});const G=document.getElementById("gold-left");G.addEventListener("blur",e=>{h=!1,G.blur();const t=parseInt(G.value);if(isNaN(t)||t<=0){G.value="";return}G.value=a(t)+" Gold ("+a(t*.85)+")",te=t,O+=t,ne+=t,re+=t,R()});G.addEventListener("focus",()=>{h=!0,G.value="",O-=te,ne-=te,re-=te,te=0,R()});const S=document.getElementById("gold-right");S.addEventListener("blur",e=>{h=!1,S.blur();const t=parseInt(S.value);if(isNaN(t)||t<=0){S.value="";return}S.value=a(t)+" Gold ("+a(t*.85)+")",ae=t,N+=t,le+=t,se+=t,R()});S.addEventListener("focus",()=>{h=!0,S.value="",N-=ae,le-=ae,se-=ae,ae=0,R()});G.addEventListener("keydown",e=>{e.key==="Enter"&&G.blur()});S.addEventListener("keydown",e=>{e.key==="Enter"&&S.blur()});function a(e){return e>=1e12?(e/1e12).toFixed(1).replace(/\.0$/,"")+"T":e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString()}function C(){const e=document.getElementById("left-card-frame"),t=document.getElementById("right-card-frame");if(document.getElementById("left-item-frame"),document.getElementById("right-item-frame"),J(Q),J(Z),J(A),J(ee),J(I),J(_),window.innerWidth>1365&&window.innerHeight>767){document.getElementById("title").style.display="block",e.style.gap="5px",t.style.gap="5px";return}document.getElementById("title").style.display="none",e.style.gap="0px",t.style.gap="0px"}function J(e){if(window.innerWidth>1365&&window.innerHeight>767){e.style.fontSize="",e!==I&&e!==_&&(e.style.top=""),e.style.right="";return}e===Q?e.textContent.length>13&&(e.style.fontSize="75%",e.style.top="13%",e.style.right="72%"):e===Z?e.textContent.length>13&&(e.style.fontSize="75%",e.style.top="13%",e.style.left="73%"):e===A?e.textContent.length>13&&(e.style.fontSize="75%",e.style.top="13%",e.style.right="55%"):e===ee?e.textContent.length>13&&(e.style.fontSize="75%",e.style.top="13%",e.style.right="11%"):e===I?e.textContent.length>13&&(e.style.fontSize="75%",e.style.right="42.5%"):e===_&&e.textContent.length>13&&(e.style.fontSize="75%",e.style.right="24%")}window.addEventListener("resize",()=>{C()});function H(e){if(e==="None")return"rgb(255, 255, 255)";if(e==="Common")return"rgb(255, 255, 255)";if(e==="Rare")return"rgb(0, 255, 17)";if(e==="Ultra Rare")return"rgb(255, 247, 7)";if(e==="Legendary")return"rgb(7, 255, 234)"}function $(e){if(e==="None")return"rgb(255, 255, 255)";if(e==="Common")return"rgb(255, 255, 255)";if(e==="Rare")return"rgb(0, 255, 17)";if(e==="Ultra Rare")return"rgb(255, 247, 7)";if(e==="Legendary")return"rgb(7, 255, 234)"}function Ve(e){e==="calc"?window.location.href="calc.html":e==="values"&&(window.location.href="values.html")}function oe(){x(),p.style.display="none",b.style.display="none",d.style.display="none",d.innerHTML="",f.style.display="none",L.style.display="none",V.style.display="none",c.style.display="none",v.style.display="none",y.style.display="none"}function ke(){x();const e=document.getElementById("left-item-search");d.innerHTML="",d.style.display==="none"&&b.style.display==="none"&&e.style.display==="none"&&f.style.display==="none"&&L.style.display==="none"&&V.style.display==="none"&&c.style.display==="none"&&v.style.display==="none"&&y.style.display==="none"?(e.style.display="flex",h=!0,e.focus()):oe()}function Ee(){x();const e=document.getElementById("right-item-search");d.innerHTML="",d.style.display==="none"&&L.style.display==="none"&&e.style.display==="none"&&p.style.display==="none"&&b.style.display==="none"&&v.style.display==="none"&&y.style.display==="none"&&V.style.display==="none"&&c.style.display==="none"?(e.style.display="flex",h=!0,e.focus()):oe()}function Te(){x();const e=document.getElementById("left-card-search");d.innerHTML="",d.style.display==="none"&&v.style.display==="none"&&e.style.display==="none"&&f.style.display==="none"&&V.style.display==="none"&&c.style.display==="none"&&p.style.display==="none"&&b.style.display==="none"&&L.style.display==="none"?(e.style.display="flex",h=!0,e.focus()):oe()}function Ie(){x();const e=document.getElementById("right-card-search");d.innerHTML="",d.style.display==="none"&&V.style.display==="none"&&e.style.display==="none"&&v.style.display==="none"&&y.style.display==="none"&&p.style.display==="none"&&b.style.display==="none"&&L.style.display==="none"&&f.style.display==="none"?(e.style.display="flex",h=!0,e.focus()):oe()}p.addEventListener("blur",()=>{h=!1});f.addEventListener("blur",()=>{h=!1});y.addEventListener("blur",()=>{h=!1});c.addEventListener("blur",()=>{h=!1});b.addEventListener("blur",()=>{h=!1});L.addEventListener("blur",()=>{h=!1});v.addEventListener("blur",()=>{h=!1});V.addEventListener("blur",()=>{h=!1});async function Ge(){for(;de.length===0||ie.length===0;){await new Promise(r=>setTimeout(r,500));const[e,t]=await Promise.all([_e(),Be()]);de=e,ie=t}}window.addEventListener("DOMContentLoaded",()=>{document.getElementById("add-item-left").addEventListener("click",ke),document.getElementById("add-item-right").addEventListener("click",Ee),document.getElementById("add-card-left").addEventListener("click",Te),document.getElementById("add-card-right").addEventListener("click",Ie),document.getElementById("valButton").addEventListener("click",()=>Ve("values")),document.getElementById("calcButton").addEventListener("click",()=>Ve("calc")),Q=document.getElementById("left-item-value"),Z=document.getElementById("right-item-value"),A=document.getElementById("left-card-value"),ee=document.getElementById("right-card-value"),I=document.getElementById("left-global-value"),_=document.getElementById("right-global-value"),Ge(),C()});
