import{g as W,a as F}from"./main-V_iPaBIi.js";const H="/hex-global-web/assets/dropdown%20arrow-DkzXHHKr.png";let D=[],S=[];const v=document.getElementById("search"),y=document.getElementById("minimumValue"),L=document.getElementById("maximumValue"),p=document.getElementById("rarity"),b=document.getElementById("type"),C=document.getElementById("subtype"),I=document.getElementById("status"),_=document.getElementById("tl"),$=document.getElementById("search-button");let U=0,R=1/0,A=!1,h="",O=!1;v.addEventListener("focus",function(e){A=!0,v.placeholder="",v.value=""});v.addEventListener("blur",function(e){const s=O;O=!1,A=!1,v.placeholder="Search",m(v.value,s)});v.addEventListener("keydown",e=>{e.key==="Enter"&&(O=!0,v.blur(!0))});document.addEventListener("keydown",e=>{e.key==="/"&&!A&&(v.focus(),e.preventDefault())});$.addEventListener("mousedown",e=>{e.button===0&&(e.preventDefault(),m(v.value,!1))});function z(e){if(e==="None")return"rgb(255, 255, 255)";if(e==="Common")return"rgb(255, 255, 255)";if(e==="Rare")return"rgb(0, 255, 17)";if(e==="Ultra Rare")return"rgb(255, 247, 7)";if(e==="Legendary")return"rgb(7, 255, 234)"}function M(){if(window.innerWidth>1919&&window.innerHeight>767){document.getElementById("title").style.display="block",document.getElementById("logo").style.display="block";return}document.getElementById("title").style.display="none",document.getElementById("logo").style.display="none"}y.addEventListener("focus",()=>{A=!0,y.value=""});L.addEventListener("focus",()=>{A=!0,L.value=""});y.addEventListener("blur",()=>{if(A=!1,y.value!==""){const e=parseInt(y.value);e?(U=e,y.value="Min Value: "+V(e),m(h)):(U=0,y.value="Min Value: 0");return}y.value="Min Value: 0",U=0,m(h)});L.addEventListener("blur",()=>{if(A=!1,L.value!==""){const e=parseInt(L.value);e?(R=e,L.value="Max Value: "+V(e),m(h)):(R=1/0,L.value="Max Value: Infinity");return}L.value="Max value: Infinity",R=1/0,m(h)});y.addEventListener("keydown",e=>{e.key==="Enter"&&y.blur()});L.addEventListener("keydown",e=>{e.key==="Enter"&&L.blur()});p.addEventListener("change",()=>{m(h)});b.addEventListener("change",()=>{m(h)});C.addEventListener("change",()=>{m(h)});I.addEventListener("change",()=>{m(h)});_.addEventListener("change",()=>{m(h)});const g=document.getElementById("resultsContainer");let c=null;document.addEventListener("mousemove",e=>{c=document.elementFromPoint(e.clientX,e.clientY)});window.addEventListener("keydown",e=>{if(!A){if(parseInt(e.key)>=0&&parseInt(e.key)<=9){for(const s of g.children)if(s.dataset.position===e.key){e.preventDefault(),s.click();break}else if(e.key==="0"&&s.dataset.position==="10"){e.preventDefault(),s.click();break}}if(e.key==="Enter"){for(const s of g.children)if(s.dataset.position==="1"){if(s.dataset.positionCooldown==="true"){s.dataset.positionCooldown="false";return}e.preventDefault(),s.click();return}}if(e.key==="h"||e.key==="g"){let s=0,l=null,u=null,a=0;for(const d of g.children)d.dataset.status==="clicked"&&(s+=1,d.dataset.timeClicked>a&&(a=d.dataset.timeClicked,l=d.getElementsByClassName("resultName")[0].textContent,u=d.dataset.reskin));if(s>=0){if(c!==null&&(c.className==="result"?(l=c.getElementsByClassName("resultName")[0].textContent,u=c.dataset.reskin):(c.className==="resultName"||c.className==="resultOrigin"||c.className==="resultStatus"||c.className==="resultType"||c.className==="resultSubtype"||c.className==="resultReskin"||c.className==="resultTradeLocked"||c.className==="resultLastUpdated"||c.className==="resultWikiLink"||c.className==="resultImage")&&(l=c.parentElement.getElementsByClassName("resultName")[0].textContent,u=c.parentElement.dataset.reskin)),u){window.open("https://hexaria-full-version.fandom.com/wiki/"+k(u),"_blank");return}window.open("https://hexaria-full-version.fandom.com/wiki/"+k(l),"_blank");return}}else if(e.key==="v"||e.key==="b"||e.key==="c"||e.key==="f"){if(e.key==="c"){for(const s of g.children)if(s.dataset.status==="clicked"){if(lastReskinName){window.open("https://hexaria-full-version.fandom.com/wiki/"+k(s.dataset.reskin));return}window.open("https://hexaria-full-version.fandom.com/wiki/"+k(s.getElementsByClassName("resultName")[0].textContent),"_blank");return}}else if(e.key==="v"||e.key==="f"){let s=0,l=null,u=null,a=0;for(const d of g.children)d.dataset.status==="clicked"&&(s+=1,d.dataset.timeClicked>a&&(a=d.dataset.timeClicked,l=d.getElementsByClassName("resultName")[0].textContent,u=d.dataset.reskin));if(s>=0){if(u){window.open("https://hexaria-full-version.fandom.com/wiki/"+k(u),"_blank");return}window.open("https://hexaria-full-version.fandom.com/wiki/"+k(l),"_blank");return}}else if(e.key==="b"){let s=0,l=null,u=null;for(const a of g.children)a.dataset.status==="clicked"&&(s+=1,l=a.getElementsByClassName("resultName")[0].textContent,u=a.dataset.reskin);if(s>=1){if(u){window.open("https://hexaria-full-version.fandom.com/wiki/"+k(u),"_blank");return}window.open("https://hexaria-full-version.fandom.com/wiki/"+k(l),"_blank");return}}}}});function k(e){return e.includes("(")&&!e.includes("(Card)")&&(e=e.replace(/ \([^)]+\)/g,"").trim()),e=e.replace("#",""),e.replace(/\s+/g,"_")}function T(e,s,l,u){const a=document.createElement("div");a.dataset.position=l,l===1&&(u?a.dataset.positionCooldown="true":a.dataset.positionCooldown="false"),a.style.position="relative",a.style.borderColor=z(e.rarity),a.className="result";const d=document.createElement("div");d.className="resultName",d.textContent=e.name,a.appendChild(d);const E=document.createElement("div");E.className="resultValue",E.dataset.textContent="Value: "+V(e.mediatorValue)+" Gold ("+V(e.lowValue)+"-"+V(e.highValue)+") ("+e.valueCertainty+" Certainty)",a.appendChild(E);const N=document.createElement("div");if(N.className="resultOrigin",N.dataset.textContent="Origin: "+e.origin,a.appendChild(N),"formerOrigin"in e&&e.formerOrigin!==""){const i=document.createElement("div");i.className="resultOrigin",i.dataset.textContent="Former Origin: "+e.formerOrigin,a.appendChild(i)}const B=document.createElement("div");B.className="resultStatus",B.dataset.textContent="Status: "+e.status,a.appendChild(B);const f=document.createElement("div");f.className="resultType",f.dataset.textContent="Type: "+e.type,a.appendChild(f);const x=document.createElement("div");if(x.className="resultSubtype",x.dataset.textContent="Subtype: "+e.subtype,a.appendChild(x),"reskin"in e&&e.reskin!==""){const i=document.createElement("div");i.className="resultReskin",i.dataset.textContent="Reskin: "+e.reskin,a.appendChild(i),a.dataset.reskin=e.reskin}const t=document.createElement("div");t.className="resultTradeLocked",t.dataset.textContent="Trade Locked: "+e.tradeLocked,e.tradeLocked===!0&&(t.style.color="red"),a.appendChild(t);const o=document.createElement("div");o.className="resultLastUpdated",o.dataset.textContent="Last Edited: "+e.dateUpdated,a.appendChild(o);const r=document.createElement("a");r.style.color="rgba(11, 225, 245, 1)",r.className="resultWikiLink";let n="https://hexaria-full-version.fandom.com/wiki/"+k(e.name);a.dataset.reskin&&(n="https://hexaria-full-version.fandom.com/wiki/"+k(a.dataset.reskin)),r.dataset.textContent="Wiki Link: "+n,r.href="",r.addEventListener("click",i=>{i.preventDefault(),window.open(n,"_blank")}),a.appendChild(r);const w=document.createElement("img");return w.className="resultImage",w.src=H,w.style.height="20px",w.style.width="30px",w.style.color="rgb(255, 255, 255)",w.style.position="absolute",w.style.right="15px",w.style.top="15px",a.appendChild(w),a.style.paddingBottom="45px",a.dataset.status="unclicked",(s||l===1)&&(a.dataset.status="clicked",a.dataset.timeClicked=Date.now(),l===1&&(a.dataset.timeClicked=Date.now()+1e3),a.style.paddingBottom="",w.style.transform="rotate(180deg)",Array.from(a.children).forEach(i=>{i.dataset.textContent&&(i.textContent=i.dataset.textContent)})),a.addEventListener("click",()=>{a.dataset.status==="unclicked"?(a.dataset.status="clicked",a.dataset.timeClicked=Date.now(),a.style.paddingBottom="",w.style.transform="rotate(180deg)",Array.from(a.children).forEach(i=>{i.dataset.textContent&&(i.textContent=i.dataset.textContent)})):(a.dataset.status="unclicked",a.style.paddingBottom="45px",w.style.transform="rotate(0deg)",Array.from(a.children).forEach(i=>{i.dataset.textContent&&(i.textContent="")}))}),a}function m(e,s){s||(s=!1),h=e;const l=[],u=[],a=[],d=[],E=[],N=[],B=[];S.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())){if(U>t.mediatorValue||R<t.mediatorValue||!t.rarity.toLowerCase().includes(p.value.toLowerCase())&&p.value!=="All"&&!p.value.toLowerCase().includes(t.rarity.toLowerCase())&&p.value!=="All"||!t.type.toLowerCase().includes(b.value.toLowerCase())&&b.value!=="All"&&!b.value.toLowerCase().includes(t.type.toLowerCase())&&b.value!=="All"||!t.subtype.toLowerCase().includes(C.value.toLowerCase())&&C.value!=="All"&&!C.value.toLowerCase().includes(t.subtype.toLowerCase())&&C.value!=="All")return;if(C.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(C.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(p.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(p.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(I.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(I.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(_.value!=="All"&&_.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){E.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){N.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){B.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){a.push(t);return}l.push(t)}}),D.forEach(t=>{if(t.name.toLowerCase().includes(e.toLowerCase())||t.abbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())||t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())){if(U>t.mediatorValue||R<t.mediatorValue||!t.rarity.toLowerCase().includes(p.value.toLowerCase())&&p.value!=="All"&&!p.value.toLowerCase().includes(t.rarity.toLowerCase())&&p.value!=="All"||!t.type.toLowerCase().includes(b.value.toLowerCase())&&b.value!=="All"&&!b.value.toLowerCase().includes(t.type.toLowerCase())&&b.value!=="All"||!t.subtype.toLowerCase().includes(C.value.toLowerCase())&&C.value!=="All"&&!C.value.toLowerCase().includes(t.subtype.toLowerCase())&&C.value!=="All")return;if(C.value=="Reskin"){if(t.subtype.toLowerCase().includes("golden reskin"))return}else if(C.value=="Golden Reskin"&&!t.subtype.toLowerCase().includes("golden reskin"))return;if(p.value=="Rare"){if(t.rarity.toLowerCase().includes("ultra rare"))return}else if(p.value=="Ultra Rare"&&!t.rarity.toLowerCase().includes("ultra rare"))return;if(I.value=="Obtainable"){if(t.status.toLowerCase().includes("unobtainable"))return}else if(I.value=="Unobtainable"&&!t.status.toLowerCase().includes("unobtainable"))return;if(_.value!=="All"&&_.value!=t.tradeLocked.toString())return;if(t.name.toLowerCase()===e.toLowerCase()||t.abbreviations.toLowerCase()===e.toLowerCase()){E.push(t);return}if(t.reskinAbbreviations.toLowerCase()===e.toLowerCase()||t.reskin.toLowerCase()===e.toLowerCase()){d.push(t);return}if(t.name.toLowerCase().startsWith(e.toLowerCase())){N.push(t);return}if(t.name.toLowerCase().includes((" "+e).toLowerCase())){B.push(t);return}if(t.abbreviations.toLowerCase().includes(e.toLowerCase())){a.push(t);return}if(t.reskinAbbreviations.toLowerCase().includes(e.toLowerCase())||t.reskin.toLowerCase().includes(e.toLowerCase())){u.push(t);return}l.push(t)}}),g.innerHTML="",l.sort((t,o)=>{let r=t.name[0].toUpperCase(),n=o.name[0].toUpperCase();return r<n?-1:r>n?1:0}),a.sort((t,o)=>{let r=t.name[0].toUpperCase(),n=o.name[0].toUpperCase();return r<n?-1:r>n?1:0}),E.sort((t,o)=>{let r=t.name[0].toUpperCase(),n=o.name[0].toUpperCase();return r<n?-1:r>n?1:0}),d.sort((t,o)=>{let r=t.name[0].toUpperCase(),n=o.name[0].toUpperCase();return r<n?-1:r>n?1:0}),u.sort((t,o)=>{let r=t.name[0].toUpperCase(),n=o.name[0].toUpperCase();return r<n?-1:r>n?1:0}),N.sort((t,o)=>{let r=t.name[0].toUpperCase(),n=o.name[0].toUpperCase();return r<n?-1:r>n?1:0}),B.sort((t,o)=>{let r=t.name[0].toUpperCase(),n=o.name[0].toUpperCase();return r<n?-1:r>n?1:0});const f=[];f.push(...E),f.push(...d),f.push(...N),f.push(...B),f.push(...a),f.push(...u),f.push(...l);let x=0;if(f.length<=3&&f.length>0){f.forEach(t=>{x+=1;const o=T(t,!0,x,s);g.appendChild(o)});return}f.forEach(t=>{x+=1;const o=T(t,!1,x,s);g.appendChild(o)})}window.addEventListener("resize",()=>{M()});async function G(){for(;D.length===0||S.length===0;){await new Promise(l=>setTimeout(l,500));const[e,s]=await Promise.all([W(),F()]);D=e,S=s}}window.addEventListener("DOMContentLoaded",()=>{G(),M()});function V(e){return e>=1e12?(e/1e12).toFixed(1).replace(/\.0$/,"")+"T":e>=1e9?(e/1e9).toFixed(1).replace(/\.0$/,"")+"B":e>=1e6?(e/1e6).toFixed(1).replace(/\.0$/,"")+"M":e>=1e3?(e/1e3).toFixed(1).replace(/\.0$/,"")+"K":e.toString()}
